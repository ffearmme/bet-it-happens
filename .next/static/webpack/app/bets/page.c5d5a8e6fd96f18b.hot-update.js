"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/bets/page",{

/***/ "(app-pages-browser)/./src/lib/store.js":
/*!**************************!*\
  !*** ./src/lib/store.js ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppProvider: function() { return /* binding */ AppProvider; },\n/* harmony export */   useApp: function() { return /* binding */ useApp; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.js\");\n/* __next_internal_client_entry_do_not_use__ AppProvider,useApp auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst AppContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\nfunction AppProvider(param) {\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [events, setEvents] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bets, setBets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [ideas, setIdeas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Safety timeout: If Firebase auth hangs for >1s, just load the app (as signed out) to prevent being stuck.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const timer = setTimeout(()=>{\n            setIsLoaded((prev)=>{\n                if (!prev) console.warn(\"Firebase auth slow - forcing load state\");\n                return true;\n            });\n        }, 1200);\n        return ()=>clearTimeout(timer);\n    }, []);\n    // --- 1. Auth & User Profile Listener ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let unsubscribeProfile = null;\n        // Auth Listener\n        const unsubscribeAuth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.onAuthStateChanged)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, (firebaseUser)=>{\n            // 1. Clean up previous profile listener if any\n            if (unsubscribeProfile) {\n                unsubscribeProfile();\n                unsubscribeProfile = null;\n            }\n            if (firebaseUser) {\n                // User is signed in -> Set basic auth user immediately to prevent logout loop\n                // We will enrich this with DB data in a moment\n                setUser((prev)=>prev || {\n                        id: firebaseUser.uid,\n                        email: firebaseUser.email,\n                        username: firebaseUser.displayName || firebaseUser.email.split(\"@\")[0],\n                        role: \"user\"\n                    });\n                // Listen to Firestore Profile\n                const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", firebaseUser.uid);\n                unsubscribeProfile = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(userRef, (docSnap)=>{\n                    if (docSnap.exists()) {\n                        setUser({\n                            id: firebaseUser.uid,\n                            ...docSnap.data()\n                        });\n                    } else {\n                        // Document does not exist (e.g. first login or previous error).\n                        console.log(\">>> DETECTED NEW USER (No Profile Found) - Creating Profile...\");\n                        // Auto-create the user profile in Firestore\n                        const newUser = {\n                            email: firebaseUser.email,\n                            username: firebaseUser.displayName || firebaseUser.email.split(\"@\")[0],\n                            role: firebaseUser.email.toLowerCase().includes(\"admin\") ? \"admin\" : \"user\",\n                            balance: 1000,\n                            createdAt: new Date().toISOString()\n                        };\n                        // Write to DB\n                        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(userRef, newUser).then(()=>{\n                            console.log(\">>> SUCCESSFULLY CREATED PROFILE FOR:\", newUser.email);\n                        // alert(\"Welcome! Your profile has been created with $1000.\");\n                        }).catch((err)=>{\n                            console.error(\">>> ERROR CREATING PROFILE:\", err);\n                            alert(\"Error creating profile. Check permissions.\");\n                        });\n                        // Set local state\n                        setUser({\n                            id: firebaseUser.uid,\n                            ...newUser\n                        });\n                    }\n                    setIsLoaded(true);\n                });\n            } else {\n                // User is signed out\n                setUser(null);\n                setBets([]);\n                setIsLoaded(true);\n            }\n        });\n        // Cleanup function when component unmounts\n        return ()=>{\n            unsubscribeAuth();\n            if (unsubscribeProfile) {\n                unsubscribeProfile();\n            }\n        };\n    }, []);\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // List of all users for leaderboard\n    const [systemAnnouncement, setSystemAnnouncement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // ... (existing timeout code) ...\n    // --- 2. Data Listeners (Events, Ideas, Users, Announcement) ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Listen to System Announcement\n        const announcementRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"system\", \"announcement\");\n        const unsubAnnouncement = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(announcementRef, (docSnap)=>{\n            if (docSnap.exists()) {\n                setSystemAnnouncement(docSnap.data());\n            } else {\n                setSystemAnnouncement(null);\n            }\n        });\n        // Listen to Events (Limit 50 active)\n        const eventsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(50));\n        const unsubEvents = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(eventsQuery, (snapshot)=>{\n            const eventsList = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            eventsList.sort((a, b)=>{\n                // 1. Sort by manual order if exists (ascending: low numbers first)\n                const orderA = a.order !== undefined ? a.order : 9999;\n                const orderB = b.order !== undefined ? b.order : 9999;\n                if (orderA !== orderB) return orderA - orderB;\n                // 2. Open events first\n                if (a.status === \"open\" && b.status !== \"open\") return -1;\n                if (a.status !== \"open\" && b.status === \"open\") return 1;\n                // 3. Then sort by startAt date (ascending: earliest date first)\n                return new Date(a.startAt) - new Date(b.startAt);\n            });\n            setEvents(eventsList);\n        });\n        // Listen to Ideas (Limit 50 recent)\n        // Removed orderBy to avoid missing index issues. Sorting client-side.\n        const ideasQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(50));\n        const unsubIdeas = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(ideasQuery, (snapshot)=>{\n            const list = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            list.sort((a, b)=>new Date(b.submittedAt) - new Date(a.submittedAt));\n            setIdeas(list);\n        }, (error)=>{\n            console.error(\"Error listening to ideas:\", error);\n        });\n        // Listen to Users (Global List for Leaderboard & Admin)\n        const usersQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(50));\n        const unsubUsers = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(usersQuery, (snapshot)=>{\n            const list = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Client-side sort by balance desc\n            list.sort((a, b)=>(b.balance || 0) - (a.balance || 0));\n            setUsers(list);\n        });\n        return ()=>{\n            unsubEvents();\n            unsubIdeas();\n            unsubUsers();\n        };\n    }, []);\n    // --- 3. Bets Listener (Only for logged in user) ---\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!user) {\n            setBets([]);\n            return;\n        }\n        const betsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", user.id), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(100));\n        const unsubBets = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(betsQuery, (snapshot)=>{\n            // We'll trust the client side sorting for now or add orderBy index later\n            const myBets = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            myBets.sort((a, b)=>new Date(b.placedAt) - new Date(a.placedAt));\n            setBets(myBets);\n        // localStorage.setItem('bet_bets_cache', JSON.stringify(myBets));\n        });\n        return ()=>unsubBets();\n    }, [\n        user === null || user === void 0 ? void 0 : user.id\n    ]); // Only re-run if user ID changes is tricky, better safe dependency\n    // --- Actions ---\n    const signup = async (email, username, password)=>{\n        try {\n            const resp = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.createUserWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, email, password);\n            // Create User Document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", resp.user.uid), {\n                email,\n                username: username || email.split(\"@\")[0],\n                role: email.toLowerCase().includes(\"admin\") ? \"admin\" : \"user\",\n                balance: 1000,\n                createdAt: new Date().toISOString()\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    };\n    const signin = async (emailOrUsername, password)=>{\n        try {\n            let email = emailOrUsername.trim();\n            // If it looks like an email, just try it directly\n            if (email.includes(\"@\")) {\n                try {\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, email, password);\n                    return {\n                        success: true\n                    };\n                } catch (e) {\n                    console.error(\"Email login failed\", e);\n                    return {\n                        success: false,\n                        error: e.message\n                    };\n                }\n            }\n            // Username lookup logic\n            const usernameInput = email;\n            const col = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\");\n            let candidateEmails = new Set();\n            // Helper to fetch and add emails (No LIMIT to ensure we find the right one)\n            const addCandidates = async (param, val)=>{\n                try {\n                    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(col, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(param, \"==\", val)); // Removed limit\n                    const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q);\n                    snap.forEach((doc)=>{\n                        const data = doc.data();\n                        if (data.email) candidateEmails.add(data.email);\n                    });\n                } catch (err) {\n                    console.error(\"Query failed for\", val, err);\n                }\n            };\n            // 1. Exact Match\n            await addCandidates(\"username\", usernameInput);\n            // 2. Lowercase\n            await addCandidates(\"username\", usernameInput.toLowerCase());\n            // 3. Capitalized (Try standard First Capital)\n            const capitalized = usernameInput.charAt(0).toUpperCase() + usernameInput.slice(1).toLowerCase();\n            await addCandidates(\"username\", capitalized);\n            // 4. UPPERCASE\n            await addCandidates(\"username\", usernameInput.toUpperCase());\n            if (candidateEmails.size === 0) {\n                return {\n                    success: false,\n                    error: \"Username '\".concat(usernameInput, \"' does not exist.\")\n                };\n            }\n            // Try each email\n            let tried = [];\n            for (let candidateEmail of candidateEmails){\n                if (typeof candidateEmail !== \"string\") continue;\n                candidateEmail = candidateEmail.trim();\n                try {\n                    // Attempt 1: Standard\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, candidateEmail, password);\n                    return {\n                        success: true\n                    };\n                } catch (error) {\n                    // Attempt 2: Trimmed Password\n                    if (password.trim() !== password) {\n                        try {\n                            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, candidateEmail, password.trim());\n                            return {\n                                success: true\n                            };\n                        } catch (e2) {}\n                    }\n                    // Attempt 3: Email with all whitespace removed (just in case)\n                    const emailNoWhitespace = candidateEmail.replace(/\\s/g, \"\");\n                    if (emailNoWhitespace !== candidateEmail) {\n                        try {\n                            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, emailNoWhitespace, password);\n                            return {\n                                success: true\n                            };\n                        } catch (e3) {}\n                    }\n                    tried.push(candidateEmail);\n                    if (error.code === \"auth/invalid-credential\" || error.code === \"auth/wrong-password\") {\n                        continue;\n                    }\n                    // Return technical error\n                    return {\n                        success: false,\n                        error: \"System Error (\".concat(error.code, \")\")\n                    };\n                }\n            }\n            // If loop finishes, none worked.\n            // Return the email found so the UI can switch to it.\n            const firstEmail = tried[0];\n            return {\n                success: false,\n                suggestedEmail: firstEmail,\n                error: \"Password incorrect.\"\n            };\n        } catch (error) {\n            console.error(error);\n            return {\n                success: false,\n                error: \"System Error: \" + error.message\n            };\n        }\n    };\n    const logout = async ()=>{\n        try {\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signOut)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth);\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    const placeBet = async (eventId, outcomeId, amount)=>{\n        if (!user) return {\n            success: false,\n            error: \"Not logged in\"\n        };\n        if (user.balance < amount) return {\n            success: false,\n            error: \"Insufficient funds\"\n        };\n        const event = events.find((e)=>e.id === eventId);\n        if (!event || event.status !== \"open\") return {\n            success: false,\n            error: \"Event is locked\"\n        };\n        // Check for existing bets on OTHER sides\n        const qExisting = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", user.id), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"eventId\", \"==\", eventId));\n        const snapExisting = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(qExisting);\n        const otherSideBet = snapExisting.docs.find((d)=>d.data().outcomeId !== outcomeId);\n        if (otherSideBet) {\n            return {\n                success: false,\n                error: \"Loyalty check! You already bet on the other side. No switching.\"\n            };\n        }\n        const outcome = event.outcomes.find((o)=>o.id === outcomeId);\n        try {\n            // 1. Deduct Balance & Add to Invested\n            const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", user.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(userRef, {\n                balance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(-amount),\n                invested: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(amount) // Track active wagers for leaderboard\n            });\n            // 2. Create Bet\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), {\n                userId: user.id,\n                username: user.username,\n                eventId,\n                outcomeId,\n                outcomeLabel: outcome.label,\n                eventTitle: event.title,\n                amount: parseFloat(amount),\n                odds: outcome.odds,\n                potentialPayout: amount * outcome.odds,\n                status: \"pending\",\n                placedAt: new Date().toISOString()\n            });\n            // 3. Update Event Stats (Best Effort - ignore permission errors for now)\n            try {\n                const eventRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId);\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(eventRef, {\n                    [\"stats.counts.\".concat(outcomeId)]: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(1),\n                    [\"stats.amounts.\".concat(outcomeId)]: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(amount),\n                    \"stats.totalBets\": (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(1),\n                    \"stats.totalPool\": (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(amount)\n                });\n            } catch (statsErr) {\n                console.warn(\"Could not update event stats (likely permission issue):\", statsErr);\n            }\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const createEvent = async (eventData)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\"), {\n                status: \"open\",\n                createdAt: new Date().toISOString(),\n                ...eventData\n            });\n        } catch (e) {\n            console.error(\"Error creating event\", e);\n        }\n    };\n    const updateEventOrder = async (eventId, newOrder)=>{\n        try {\n            if (!user || user.role !== \"admin\") return {\n                success: false,\n                error: \"Unauthorized\"\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId), {\n                order: newOrder\n            });\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteEvent = async (eventId)=>{\n        try {\n            // Note: This does NOT refund bets automatically in this simple version\n            // You would need Cloud Functions for robust backend logic\n            const eventRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(eventRef, {\n                status: \"deleted\"\n            }); // Soft delete is safer?\n            // For now, let's just actually delete it for cleanliness in the UI as requested previously\n            // but usually on local version we just filtered.\n            // Wait, Firestore deleteDoc is better.\n            // await deleteDoc(doc(db, 'events', eventId)); \n            // Let's stick to update to 'deleted' or just rely on the UI filter?\n            // Let's actually delete.\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId));\n        } catch (e) {\n            console.error(e);\n        }\n    };\n    const toggleFeatured = async (eventId, currentStatus)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId), {\n                featured: !currentStatus\n            });\n        } catch (e) {\n            console.error(e);\n        }\n    };\n    const resolveEvent = async (eventId, winnerOutcomeId)=>{\n        try {\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n            const eventRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId);\n            // 1. Mark Event as Settled (In Batch)\n            batch.update(eventRef, {\n                status: \"settled\",\n                winnerOutcomeId\n            });\n            // 2. Process Bets\n            const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"eventId\", \"==\", eventId));\n            const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ); // Need all bets to settle\n            for (const betDoc of betsSnap.docs){\n                const bet = betDoc.data();\n                // Skip if already settled to avoid double-pay/deduct\n                if (bet.status !== \"pending\") continue;\n                const isWinner = bet.outcomeId === winnerOutcomeId;\n                const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", bet.userId);\n                // Fetch User to Calc Portfolio Impact\n                let percentChange = 0;\n                try {\n                    const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(userRef);\n                    if (userSnap.exists()) {\n                        const userData = userSnap.data();\n                        const currentNetWorth = (userData.balance || 0) + (userData.invested || 0);\n                        // Profit (or Loss) from this specific bet\n                        const profit = isWinner ? bet.potentialPayout - bet.amount // Net Profit\n                         : -bet.amount; // Net Loss\n                        // Portfolio Impact % = (Profit / currentNetWorth) * 100\n                        percentChange = currentNetWorth > 0 ? profit / currentNetWorth * 100 : 0;\n                    }\n                } catch (err) {\n                    console.error(\"Error calc legacy stats\", err);\n                }\n                // Settle the bet document\n                batch.update(betDoc.ref, {\n                    status: isWinner ? \"won\" : \"lost\",\n                    settledAt: new Date().toISOString()\n                });\n                // Update User Balance & Invested & Last Bet Stats\n                if (isWinner) {\n                    batch.update(userRef, {\n                        balance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(bet.potentialPayout),\n                        invested: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(-bet.amount),\n                        lastBetPercent: percentChange\n                    });\n                } else {\n                    batch.update(userRef, {\n                        invested: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(-bet.amount),\n                        lastBetPercent: percentChange\n                    });\n                }\n                // Create Notification\n                const notifRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"notifications\"));\n                batch.set(notifRef, {\n                    userId: bet.userId,\n                    type: \"result\",\n                    eventId: eventId,\n                    title: isWinner ? \"You Won!\" : \"Bet Lost\",\n                    message: isWinner ? \"You won $\".concat(bet.potentialPayout.toFixed(2), \" on \").concat(bet.eventTitle, \" (\").concat(bet.outcomeLabel, \")\") : \"You lost $\".concat(bet.amount.toFixed(2), \" on \").concat(bet.eventTitle, \" (\").concat(bet.outcomeLabel, \")\"),\n                    read: false,\n                    createdAt: new Date().toISOString()\n                });\n            }\n            await batch.commit();\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(\"Resolve Event Error:\", e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const fixStuckBets = async ()=>{\n        try {\n            const eventsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"status\", \"==\", \"settled\"));\n            const eventsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(eventsQ);\n            let totalFixed = 0;\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n            for (const eventDoc of eventsSnap.docs){\n                const event = eventDoc.data();\n                const winnerOutcomeId = event.winnerOutcomeId;\n                if (!winnerOutcomeId) continue;\n                const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"eventId\", \"==\", eventDoc.id), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"status\", \"==\", \"pending\"));\n                const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ);\n                for (const betDoc of betsSnap.docs){\n                    const bet = betDoc.data();\n                    // Double check it's pending\n                    if (bet.status !== \"pending\") continue;\n                    const isWinner = bet.outcomeId === winnerOutcomeId;\n                    const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", bet.userId);\n                    let percentChange = 0;\n                    try {\n                        // Fetch User for Net Worth Calc\n                        const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(userRef);\n                        const userData = userSnap.exists() ? userSnap.data() : {\n                            balance: 0,\n                            invested: 0\n                        };\n                        const currentNetWorth = (userData.balance || 0) + (userData.invested || 0);\n                        // Profit (or Loss) from this specific bet\n                        const profit = isWinner ? bet.potentialPayout - bet.amount // Net Profit\n                         : -bet.amount; // Net Loss\n                        // Portfolio Impact % = (Profit / currentNetWorth) * 100\n                        percentChange = currentNetWorth > 0 ? profit / currentNetWorth * 100 : 0;\n                    } catch (err) {\n                        console.error(err);\n                    }\n                    batch.update(betDoc.ref, {\n                        status: isWinner ? \"won\" : \"lost\",\n                        settledAt: new Date().toISOString()\n                    });\n                    if (isWinner) {\n                        batch.update(userRef, {\n                            balance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(bet.potentialPayout),\n                            invested: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(-bet.amount),\n                            lastBetPercent: percentChange\n                        });\n                    } else {\n                        batch.update(userRef, {\n                            invested: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(-bet.amount),\n                            lastBetPercent: percentChange\n                        });\n                    }\n                    totalFixed++;\n                }\n            }\n            if (totalFixed > 0) {\n                await batch.commit();\n            }\n            return {\n                success: true,\n                message: \"Fixed \".concat(totalFixed, \" stuck bets.\")\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteBet = async (betId)=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\", betId));\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const updateEvent = async (eventId, data)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId), data);\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const setMainBet = async (eventId, mainOutcomeId)=>{\n        try {\n            if (!user || user.role !== \"admin\") return {\n                success: false,\n                error: \"Unauthorized\"\n            };\n            const eventRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId);\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(eventRef);\n            if (!snap.exists()) return {\n                success: false,\n                error: \"Event not found\"\n            };\n            const evt = snap.data();\n            // Remove 'main' type from all, then set it for the chosen one plus its sibling?\n            // Wait, \"Main Bet\" usually implies a PAIR of outcomes (e.g. Chiefs vs 49ers).\n            // If the user selects \"Chiefs\" as main, we likely want \"49ers\" (the other one in that pair) to also be main.\n            // But outcomes are just a flat list. \n            // Simplification: The admin clicks \"Highlight This Pair\" on one outcome, and we assume the next one is its pair?\n            // Or we just flag THIS outcome's pair as main.\n            // Let's iterate and just toggle the type 'main' for the targeted outcome(s).\n            // Actually, cleaner design: toggle \"type: main\" for specific outcomes.\n            const newOutcomes = evt.outcomes.map((o)=>{\n                if (o.id === mainOutcomeId) return {\n                    ...o,\n                    type: \"main\"\n                };\n                // If we want to unset others? Maybe not, maybe multiple main bets allowed.\n                return o;\n            });\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(eventRef, {\n                outcomes: newOutcomes\n            });\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const submitIdea = async (ideaText)=>{\n        if (!user) return {\n            success: false,\n            error: \"Not logged in\"\n        };\n        // Duplicate Check\n        const qDup = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", user.id), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"text\", \"==\", ideaText));\n        const snapDup = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(qDup);\n        if (!snapDup.empty) {\n            return {\n                success: false,\n                error: \"You already suggested this! Hey switch it up.\"\n            };\n        }\n        // Check Daily Limit (Client-side check based on local user data, ideally backend does this)\n        const today = new Date().toDateString();\n        let currentCount = 0;\n        if (user.submissionData && user.submissionData.date === today) {\n            currentCount = user.submissionData.count;\n        }\n        if (currentCount >= 5) {\n            return {\n                success: false,\n                error: \"Daily limit reached (5/5). Come back tomorrow!\"\n            };\n        }\n        try {\n            // 1. Create Idea Doc\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\"), {\n                userId: user.id,\n                username: user.username,\n                text: ideaText,\n                submittedAt: new Date().toISOString()\n            });\n            // 2. Update User (Reward + Submission Count)\n            // If date different, simple set. If same, increment.\n            // Firestore update is tricky with nested objects, so we set the whole object.\n            // We calculate new count locally to ensure sync with the check.\n            const newCount = currentCount + 1;\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", user.id), {\n                balance: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.increment)(15),\n                submissionData: {\n                    date: today,\n                    count: newCount\n                }\n            });\n            return {\n                success: true,\n                message: \"Idea submitted! +$15.00\"\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const updateUserGroups = async (targetUserId, groups)=>{\n        try {\n            if (!user || user.role !== \"admin\") return {\n                success: false,\n                error: \"Unauthorized\"\n            };\n            const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", targetUserId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(userRef, {\n                groups: groups || []\n            });\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteIdea = async (ideaId)=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\", ideaId));\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const updateUser = async (updates)=>{\n        if (!user) return {\n            success: false,\n            error: \"Not logged in\"\n        };\n        try {\n            // 1. Update Firestore FIRST (Profile Pic, Username, etc.)\n            // This ensures that non-sensitive updates always succeed even if Auth fails.\n            const firestoreUpdates = {\n                ...updates\n            };\n            delete firestoreUpdates.password; // Don't store raw password in DB\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", user.id), firestoreUpdates);\n            // Update local state immediately for the UI\n            setUser((prev)=>({\n                    ...prev,\n                    ...firestoreUpdates\n                }));\n            // 2. Attempt Auth Updates (Sensitive: Email/Password)\n            let authUpdated = false;\n            let authErrorMsg = \"\";\n            try {\n                // Update Email\n                if (updates.email && _firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser) {\n                    const currentAuthEmail = _firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser.email;\n                    if (updates.email.toLowerCase() !== currentAuthEmail.toLowerCase()) {\n                        console.log(\"Debug: Attempting email update from \".concat(currentAuthEmail, \" to \").concat(updates.email));\n                        try {\n                            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.updateEmail)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser, updates.email);\n                            authUpdated = true;\n                        } catch (emailErr) {\n                            if (emailErr.code === \"auth/operation-not-allowed\" || emailErr.message.includes(\"verify\")) {\n                                await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.verifyBeforeUpdateEmail)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser, updates.email);\n                                return {\n                                    success: true,\n                                    message: \"Profile saved & Verification sent to \".concat(updates.email, \".\")\n                                };\n                            }\n                            throw emailErr;\n                        }\n                    }\n                }\n                // Update Password\n                if (updates.password && updates.password.length > 0) {\n                    if (_firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser) {\n                        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.updatePassword)(_firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser, updates.password);\n                        authUpdated = true;\n                    }\n                }\n                // Force refresh if Auth changed\n                if (authUpdated && _firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser) {\n                    await _firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser.reload();\n                }\n            } catch (authErr) {\n                console.error(\"Auth Update Failed:\", authErr);\n                if (authErr.code === \"auth/requires-recent-login\") {\n                    authErrorMsg = \" (Note: Re-login required to update Email/Password)\";\n                } else {\n                    authErrorMsg = \" (Auth Error: \".concat(authErr.message, \")\");\n                }\n            }\n            const successMsg = authUpdated ? \"Account & Profile updated!\" : \"Profile updated!\" + authErrorMsg;\n            return {\n                success: true,\n                message: authUpdated ? \"Account & Profile updated!\" : \"Profile updated!\" + authErrorMsg\n            };\n        } catch (e) {\n            console.error(\"Firestore Update Error:\", e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const recalculateLeaderboard = async ()=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            // 1. Fetch all pending bets\n            const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"status\", \"==\", \"pending\"));\n            const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ);\n            // If index missing, this line throws.\n            const investmentsByUser = {};\n            betsSnap.docs.forEach((doc)=>{\n                const bet = doc.data();\n                if (!investmentsByUser[bet.userId]) investmentsByUser[bet.userId] = 0;\n                investmentsByUser[bet.userId] += bet.amount || 0;\n            });\n            // 2. Fetch all users to update their stats\n            const usersSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\"));\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n            let updateCount = 0;\n            usersSnap.docs.forEach((userDoc)=>{\n                const uid = userDoc.id;\n                const currentInvested = userDoc.data().invested || 0;\n                const correctInvested = investmentsByUser[uid] || 0;\n                // Only update if different to save writes\n                if (Math.abs(currentInvested - correctInvested) > 0.01) {\n                    batch.update(userDoc.ref, {\n                        invested: correctInvested\n                    });\n                    updateCount++;\n                }\n            });\n            if (updateCount > 0) await batch.commit();\n            return {\n                success: true,\n                message: \"Recalculated! Updated \".concat(updateCount, \" users.\")\n            };\n        } catch (e) {\n            console.error(\"Recalc Detailed Error:\", e);\n            let errMsg = e.message || String(e);\n            if (errMsg.includes(\"index\")) errMsg = \"Missing Index! Check Browser Console (F12) for the creation link.\";\n            return {\n                success: false,\n                error: errMsg\n            };\n        }\n    };\n    const backfillLastBetPercent = async ()=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            console.log(\"Starting Backfill...\");\n            const usersSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\"));\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n            let updateCount = 0;\n            // Process users in chunks to avoid blowing up memory/batch limits if many users\n            // But for <500 users, loop is fine. Batch limit is 500 ops.\n            for (const userDoc of usersSnap.docs){\n                const uid = userDoc.id;\n                // Get all bets for user (we crave the most recent settled one)\n                const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", uid));\n                const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ);\n                let lastSettledBet = null;\n                // Find latest settled bet in memory\n                const settledBets = betsSnap.docs.map((d)=>({\n                        ...d.data(),\n                        id: d.id\n                    })).filter((b)=>b.status === \"won\" || b.status === \"lost\").sort((a, b)=>{\n                    const dateA = new Date(a.settledAt || a.placedAt || 0);\n                    const dateB = new Date(b.settledAt || b.placedAt || 0);\n                    return dateB - dateA; // Descending\n                });\n                if (settledBets.length > 0) {\n                    lastSettledBet = settledBets[0];\n                    const isWinner = lastSettledBet.status === \"won\";\n                    const userData = userDoc.data();\n                    const currentNetWorth = (userData.balance || 0) + (userData.invested || 0);\n                    const profit = isWinner ? lastSettledBet.potentialPayout - lastSettledBet.amount : -lastSettledBet.amount;\n                    // Approximate Pre-Bet Net Worth\n                    // Current Net Worth DOES include this bet's result (since it's settled).\n                    // So we subtract the profit to get the pre-bet value.\n                    const preBetNetWorth = currentNetWorth - profit;\n                    // Avoid division by zero\n                    const percentChange = preBetNetWorth > 0 ? profit / preBetNetWorth * 100 : 0;\n                    batch.update(userDoc.ref, {\n                        lastBetPercent: percentChange\n                    });\n                    updateCount++;\n                }\n            }\n            if (updateCount > 0) await batch.commit();\n            return {\n                success: true,\n                message: \"Updated \".concat(updateCount, \" users with last bet stats.\")\n            };\n        } catch (e) {\n            console.error(e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const demoteSelf = async ()=>{\n        if (!user) return;\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", user.id), {\n                role: \"user\"\n            });\n            // setUser({...user, role: 'user'}); // Optimistic update\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteAccount = async ()=>{\n        if (!user) return {\n            success: false\n        };\n        try {\n            const userId = user.id;\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n            let opCount = 0;\n            // 1. Delete all user's bets\n            const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", userId));\n            const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ);\n            betsSnap.docs.forEach((doc)=>{\n                batch.delete(doc.ref);\n                opCount++;\n            });\n            // 2. Delete all user's ideas\n            const ideasQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", userId));\n            const ideasSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(ideasQ);\n            ideasSnap.docs.forEach((doc)=>{\n                batch.delete(doc.ref);\n                opCount++;\n            });\n            // 3. Delete User Profile\n            const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", userId);\n            batch.delete(userRef);\n            opCount++;\n            if (opCount > 0) {\n                await batch.commit();\n            }\n            // 4. Delete Auth Account\n            if (_firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser) {\n                await _firebase__WEBPACK_IMPORTED_MODULE_4__.auth.currentUser.delete();\n            }\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(\"Delete Error:\", e);\n            if (e.code === \"auth/requires-recent-login\") {\n                return {\n                    success: false,\n                    error: \"Please log out and log in again to delete your account.\"\n                };\n            }\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteUser = async (targetUserId)=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            // Helper to delete in batches\n            const commitBatchBuffer = async (docsToDelete)=>{\n                const CHUNK_SIZE = 400; // Safety margin below 500\n                for(let i = 0; i < docsToDelete.length; i += CHUNK_SIZE){\n                    const chunk = docsToDelete.slice(i, i + CHUNK_SIZE);\n                    const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db);\n                    chunk.forEach((ref)=>batch.delete(ref));\n                    await batch.commit();\n                }\n            };\n            const allDocsToDelete = [];\n            // 1. Bets\n            const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", targetUserId)));\n            betsSnap.docs.forEach((d)=>allDocsToDelete.push(d.ref));\n            // 2. Ideas\n            const ideasSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", targetUserId)));\n            ideasSnap.docs.forEach((d)=>allDocsToDelete.push(d.ref));\n            // 3. Comments (New)\n            const commentsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"comments\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", targetUserId)));\n            commentsSnap.docs.forEach((d)=>allDocsToDelete.push(d.ref));\n            // 4. Notifications (New)\n            const notifSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"notifications\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", targetUserId)));\n            notifSnap.docs.forEach((d)=>allDocsToDelete.push(d.ref));\n            // 5. User Profile\n            allDocsToDelete.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", targetUserId));\n            console.log(\"Deleting user \".concat(targetUserId, \": \").concat(allDocsToDelete.length, \" documents total.\"));\n            await commitBatchBuffer(allDocsToDelete);\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(\"Delete User Error:\", e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const syncEventStats = async ()=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            // 1. Fetch all bets\n            const betsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"));\n            const allBets = betsSnap.docs.map((d)=>d.data());\n            // 2. Aggregate Stats\n            const statsMap = {}; // eventId -> { counts: {}, amounts: {}, totalBets: 0, totalPool: 0 }\n            for (const bet of allBets){\n                if (!statsMap[bet.eventId]) {\n                    statsMap[bet.eventId] = {\n                        counts: {},\n                        amounts: {},\n                        totalBets: 0,\n                        totalPool: 0\n                    };\n                }\n                const s = statsMap[bet.eventId];\n                s.totalBets += 1;\n                s.totalPool += bet.amount || 0;\n                s.counts[bet.outcomeId] = (s.counts[bet.outcomeId] || 0) + 1;\n                s.amounts[bet.outcomeId] = (s.amounts[bet.outcomeId] || 0) + (bet.amount || 0);\n            }\n            // 3. Update Events\n            const eventsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\"));\n            const updatePromises = eventsSnap.docs.map(async (docSnap)=>{\n                const stats = statsMap[docSnap.id] || {\n                    counts: {},\n                    amounts: {},\n                    totalBets: 0,\n                    totalPool: 0\n                };\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", docSnap.id), {\n                    stats\n                });\n            });\n            await Promise.all(updatePromises);\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const addComment = async (eventId, text)=>{\n        if (!user) return {\n            success: false,\n            error: \"Login to comment\"\n        };\n        try {\n            const commentData = {\n                eventId,\n                userId: user.id,\n                username: user.username,\n                text,\n                createdAt: new Date().toISOString()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"comments\"), commentData);\n            // Update Event with lastComment for preview\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId), {\n                lastComment: {\n                    username: user.username,\n                    text: text.length > 50 ? text.substring(0, 50) + \"...\" : text,\n                    createdAt: commentData.createdAt\n                }\n            });\n            return {\n                success: true\n            };\n        } catch (e) {\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const deleteComment = async (commentId)=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            // 1. Get comment details before deleting (to find parent event)\n            const commentRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"comments\", commentId);\n            const commentSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(commentRef);\n            if (!commentSnap.exists()) {\n                return {\n                    success: false,\n                    error: \"Comment already deleted\"\n                };\n            }\n            const val = commentSnap.data();\n            const eventId = val.eventId;\n            const commentCreatedAt = val.createdAt;\n            // 2. Delete the comment\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)(commentRef);\n            // 3. Check if this was the \"lastComment\" on the event card\n            if (eventId) {\n                const eventRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"events\", eventId);\n                const eventSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(eventRef);\n                if (eventSnap.exists()) {\n                    const eventData = eventSnap.data();\n                    // Check if the displayed lastComment matches the one we just deleted\n                    if (eventData.lastComment && eventData.lastComment.createdAt === commentCreatedAt) {\n                        // It was the one displayed! We need to find the new latest comment.\n                        // Fetch all remaining comments for this event\n                        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"comments\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"eventId\", \"==\", eventId));\n                        const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q);\n                        if (!snap.empty) {\n                            // Find the newest one\n                            const all = snap.docs.map((d)=>d.data());\n                            all.sort((a, b)=>new Date(b.createdAt) - new Date(a.createdAt));\n                            const newest = all[0];\n                            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(eventRef, {\n                                lastComment: {\n                                    username: newest.username,\n                                    text: newest.text.length > 50 ? newest.text.substring(0, 50) + \"...\" : newest.text,\n                                    createdAt: newest.createdAt\n                                }\n                            });\n                        } else {\n                            // No comments left\n                            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(eventRef, {\n                                lastComment: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteField)()\n                            });\n                        }\n                    }\n                }\n            }\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const markNotificationRead = async (notifId)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"notifications\", notifId), {\n                read: true\n            });\n        } catch (e) {\n            console.error(e);\n        }\n    };\n    const getUserStats = async (targetUserId)=>{\n        try {\n            const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", targetUserId);\n            const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(userRef);\n            const userData = userSnap.exists() ? userSnap.data() : {};\n            const betsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", targetUserId));\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(betsQ);\n            let wins = 0;\n            let losses = 0;\n            let profit = 0;\n            let settledCount = 0;\n            snap.docs.forEach((d)=>{\n                const b = d.data();\n                if (b.status === \"won\") {\n                    wins++;\n                    settledCount++;\n                    profit += (b.potentialPayout || b.amount * b.odds) - b.amount;\n                } else if (b.status === \"lost\") {\n                    losses++;\n                    settledCount++;\n                    profit -= b.amount;\n                }\n            });\n            const total = snap.size;\n            const winRate = settledCount > 0 ? (wins / settledCount * 100).toFixed(1) : 0;\n            return {\n                success: true,\n                stats: {\n                    wins,\n                    losses,\n                    total,\n                    winRate,\n                    profit\n                },\n                profile: {\n                    bio: userData.bio || \"\",\n                    profilePic: userData.profilePic,\n                    username: userData.username\n                }\n            };\n        } catch (e) {\n            console.error(e);\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    const getWeeklyLeaderboard = async ()=>{\n        try {\n            const now = new Date();\n            const dayOfWeek = now.getDay(); // 0 (Sun) - 6 (Sat)\n            const startOfWeek = new Date(now);\n            // Reset to most recent Sunday (or today if it is Sunday)\n            startOfWeek.setDate(now.getDate() - dayOfWeek);\n            startOfWeek.setHours(0, 0, 0, 0);\n            const isoStr = startOfWeek.toISOString();\n            console.log(\"Fetching weekly stats since:\", isoStr);\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"bets\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"status\", \"in\", [\n                \"won\",\n                \"lost\"\n            ]), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"settledAt\", \">=\", isoStr));\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q);\n            const stats = {};\n            snap.docs.forEach((doc)=>{\n                const b = doc.data();\n                if (!stats[b.userId]) stats[b.userId] = 0;\n                if (b.status === \"won\") {\n                    // Profit = Payout - Wager\n                    const payout = b.potentialPayout || b.amount * b.odds;\n                    stats[b.userId] += payout - b.amount;\n                } else {\n                    // Loss = -Wager\n                    stats[b.userId] -= b.amount;\n                }\n            });\n            const leaderboard = Object.entries(stats).map((param)=>{\n                let [userId, profit] = param;\n                return {\n                    userId,\n                    profit\n                };\n            });\n            leaderboard.sort((a, b)=>b.profit - a.profit);\n            return {\n                success: true,\n                data: leaderboard\n            };\n        } catch (e) {\n            console.error(\"Weekly Leaderboard Error:\", e);\n            let msg = e.message;\n            if (msg.includes(\"index\")) msg = \"Missing Index! Check console (F12) for the creation link.\";\n            return {\n                success: false,\n                error: msg\n            };\n        }\n    };\n    const updateSystemAnnouncement = async (data)=>{\n        if (!user || user.role !== \"admin\") return {\n            success: false,\n            error: \"Unauthorized\"\n        };\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_4__.db, \"system\", \"announcement\");\n            // Merge true to allow partial updates if needed, though usually we replace content\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, data, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (e) {\n            console.error(e);\n            alert(\"Error posting announcement: \" + e.message); // Debug\n            return {\n                success: false,\n                error: e.message\n            };\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AppContext.Provider, {\n        value: {\n            user,\n            signup,\n            signin,\n            logout,\n            updateUser,\n            submitIdea,\n            deleteIdea,\n            deleteAccount,\n            deleteUser,\n            demoteSelf,\n            syncEventStats,\n            events,\n            createEvent,\n            resolveEvent,\n            updateEvent,\n            updateEventOrder,\n            fixStuckBets,\n            deleteBet,\n            deleteEvent,\n            toggleFeatured,\n            recalculateLeaderboard,\n            backfillLastBetPercent,\n            addComment,\n            deleteComment,\n            markNotificationRead,\n            getUserStats,\n            getWeeklyLeaderboard,\n            setMainBet,\n            updateUserGroups,\n            updateSystemAnnouncement,\n            systemAnnouncement,\n            bets,\n            placeBet,\n            isLoaded,\n            isFirebase: true,\n            users,\n            ideas,\n            db: _firebase__WEBPACK_IMPORTED_MODULE_4__.db\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ffear\\\\OneDrive\\\\Documents\\\\GitHub\\\\bet-it-happens\\\\src\\\\lib\\\\store.js\",\n        lineNumber: 1223,\n        columnNumber: 5\n    }, this);\n}\n_s(AppProvider, \"+dBb7/oTa8x7On7v1mA0HNxr9Js=\");\n_c = AppProvider;\nfunction useApp() {\n    _s1();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AppContext);\n}\n_s1(useApp, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TztZQUFDO1FBQzVDO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ2pGLFdBQVdzUyxRQUFRO1FBQUNDLE9BQU87WUFDMUJwUztZQUFNMEU7WUFBUUs7WUFBUThCO1lBQVFzRjtZQUFZbEI7WUFBWWdCO1lBQVlpQztZQUFlSztZQUFZTjtZQUFZZTtZQUN6RzlPO1lBQVFvSTtZQUFhUTtZQUFjOEI7WUFBYXBDO1lBQWtCNkI7WUFBY0s7WUFBV2hDO1lBQWFDO1lBQWdCb0U7WUFBd0JXO1lBQXdCa0M7WUFBWUk7WUFBZU87WUFBc0JFO1lBQWNTO1lBQXNCckc7WUFBWWlCO1lBQWtCa0c7WUFBMEJuUDtZQUNyVHpDO1lBQU0wRztZQUFVdEc7WUFBVTZSLFlBQVk7WUFBTTFQO1lBQU9yQztZQUFPWCxFQUFFQSwyQ0FBQUE7UUFDOUQ7a0JBQ0dJOzs7Ozs7QUFHUDtHQS9yQ2dCRDtLQUFBQTtBQWlzQ1QsU0FBU3dTOztJQUNkLE9BQU9yVSxpREFBVUEsQ0FBQzRCO0FBQ3BCO0lBRmdCeVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9zdG9yZS5qcz81MTE0Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5cInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7XHJcbiAgY29sbGVjdGlvbiwgYWRkRG9jLCBvblNuYXBzaG90LCBxdWVyeSwgb3JkZXJCeSxcclxuICBkb2MsIHNldERvYywgdXBkYXRlRG9jLCBnZXREb2MsIHdoZXJlLCBpbmNyZW1lbnQsIGRlbGV0ZURvYywgZ2V0RG9jcywgbGltaXQsIHdyaXRlQmF0Y2gsIGRlbGV0ZUZpZWxkXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHtcclxuICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLFxyXG4gIHNpZ25PdXQsIG9uQXV0aFN0YXRlQ2hhbmdlZCwgdXBkYXRlRW1haWwsIHVwZGF0ZVBhc3N3b3JkLCB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbFxyXG59IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG5pbXBvcnQgeyBkYiwgYXV0aCB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5cclxuY29uc3QgQXBwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBcHBQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZXZlbnRzLCBzZXRFdmVudHNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtiZXRzLCBzZXRCZXRzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbaWRlYXMsIHNldElkZWFzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbaXNMb2FkZWQsIHNldElzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgLy8gU2FmZXR5IHRpbWVvdXQ6IElmIEZpcmViYXNlIGF1dGggaGFuZ3MgZm9yID4xcywganVzdCBsb2FkIHRoZSBhcHAgKGFzIHNpZ25lZCBvdXQpIHRvIHByZXZlbnQgYmVpbmcgc3R1Y2suXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNldElzTG9hZGVkKHByZXYgPT4ge1xyXG4gICAgICAgIGlmICghcHJldikgY29uc29sZS53YXJuKFwiRmlyZWJhc2UgYXV0aCBzbG93IC0gZm9yY2luZyBsb2FkIHN0YXRlXCIpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDEyMDApO1xyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyAtLS0gMS4gQXV0aCAmIFVzZXIgUHJvZmlsZSBMaXN0ZW5lciAtLS1cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IHVuc3Vic2NyaWJlUHJvZmlsZSA9IG51bGw7XHJcblxyXG4gICAgLy8gQXV0aCBMaXN0ZW5lclxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmVBdXRoID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIChmaXJlYmFzZVVzZXIpID0+IHtcclxuICAgICAgLy8gMS4gQ2xlYW4gdXAgcHJldmlvdXMgcHJvZmlsZSBsaXN0ZW5lciBpZiBhbnlcclxuICAgICAgaWYgKHVuc3Vic2NyaWJlUHJvZmlsZSkge1xyXG4gICAgICAgIHVuc3Vic2NyaWJlUHJvZmlsZSgpO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlUHJvZmlsZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmaXJlYmFzZVVzZXIpIHtcclxuICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbiAtPiBTZXQgYmFzaWMgYXV0aCB1c2VyIGltbWVkaWF0ZWx5IHRvIHByZXZlbnQgbG9nb3V0IGxvb3BcclxuICAgICAgICAvLyBXZSB3aWxsIGVucmljaCB0aGlzIHdpdGggREIgZGF0YSBpbiBhIG1vbWVudFxyXG4gICAgICAgIHNldFVzZXIocHJldiA9PiBwcmV2IHx8IHtcclxuICAgICAgICAgIGlkOiBmaXJlYmFzZVVzZXIudWlkLFxyXG4gICAgICAgICAgZW1haWw6IGZpcmViYXNlVXNlci5lbWFpbCxcclxuICAgICAgICAgIHVzZXJuYW1lOiBmaXJlYmFzZVVzZXIuZGlzcGxheU5hbWUgfHwgZmlyZWJhc2VVc2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXHJcbiAgICAgICAgICByb2xlOiAndXNlcicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiB0byBGaXJlc3RvcmUgUHJvZmlsZVxyXG4gICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIGZpcmViYXNlVXNlci51aWQpO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlUHJvZmlsZSA9IG9uU25hcHNob3QodXNlclJlZiwgKGRvY1NuYXApID0+IHtcclxuICAgICAgICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIHNldFVzZXIoeyBpZDogZmlyZWJhc2VVc2VyLnVpZCwgLi4uZG9jU25hcC5kYXRhKCkgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEb2N1bWVudCBkb2VzIG5vdCBleGlzdCAoZS5nLiBmaXJzdCBsb2dpbiBvciBwcmV2aW91cyBlcnJvcikuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IERFVEVDVEVEIE5FVyBVU0VSIChObyBQcm9maWxlIEZvdW5kKSAtIENyZWF0aW5nIFByb2ZpbGUuLi5cIik7XHJcbiAgICAgICAgICAgIC8vIEF1dG8tY3JlYXRlIHRoZSB1c2VyIHByb2ZpbGUgaW4gRmlyZXN0b3JlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSB7XHJcbiAgICAgICAgICAgICAgZW1haWw6IGZpcmViYXNlVXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICB1c2VybmFtZTogZmlyZWJhc2VVc2VyLmRpc3BsYXlOYW1lIHx8IGZpcmViYXNlVXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdLFxyXG4gICAgICAgICAgICAgIHJvbGU6IChmaXJlYmFzZVVzZXIuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYWRtaW4nKSkgPyAnYWRtaW4nIDogJ3VzZXInLFxyXG4gICAgICAgICAgICAgIGJhbGFuY2U6IDEwMDAsXHJcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIFdyaXRlIHRvIERCXHJcbiAgICAgICAgICAgIHNldERvYyh1c2VyUmVmLCBuZXdVc2VyKVxyXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IFNVQ0NFU1NGVUxMWSBDUkVBVEVEIFBST0ZJTEUgRk9SOlwiLCBuZXdVc2VyLmVtYWlsKTtcclxuICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwiV2VsY29tZSEgWW91ciBwcm9maWxlIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCAkMTAwMC5cIik7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCI+Pj4gRVJST1IgQ1JFQVRJTkcgUFJPRklMRTpcIiwgZXJyKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgY3JlYXRpbmcgcHJvZmlsZS4gQ2hlY2sgcGVybWlzc2lvbnMuXCIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IGxvY2FsIHN0YXRlXHJcbiAgICAgICAgICAgIHNldFVzZXIoeyBpZDogZmlyZWJhc2VVc2VyLnVpZCwgLi4ubmV3VXNlciB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNldElzTG9hZGVkKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dFxyXG4gICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgc2V0QmV0cyhbXSk7XHJcbiAgICAgICAgc2V0SXNMb2FkZWQodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENsZWFudXAgZnVuY3Rpb24gd2hlbiBjb21wb25lbnQgdW5tb3VudHNcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHVuc3Vic2NyaWJlQXV0aCgpO1xyXG4gICAgICBpZiAodW5zdWJzY3JpYmVQcm9maWxlKSB7XHJcbiAgICAgICAgdW5zdWJzY3JpYmVQcm9maWxlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBbdXNlcnMsIHNldFVzZXJzXSA9IHVzZVN0YXRlKFtdKTsgLy8gTGlzdCBvZiBhbGwgdXNlcnMgZm9yIGxlYWRlcmJvYXJkXHJcbiAgY29uc3QgW3N5c3RlbUFubm91bmNlbWVudCwgc2V0U3lzdGVtQW5ub3VuY2VtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICAvLyAuLi4gKGV4aXN0aW5nIHRpbWVvdXQgY29kZSkgLi4uXHJcblxyXG4gIC8vIC0tLSAyLiBEYXRhIExpc3RlbmVycyAoRXZlbnRzLCBJZGVhcywgVXNlcnMsIEFubm91bmNlbWVudCkgLS0tXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIExpc3RlbiB0byBTeXN0ZW0gQW5ub3VuY2VtZW50XHJcbiAgICBjb25zdCBhbm5vdW5jZW1lbnRSZWYgPSBkb2MoZGIsICdzeXN0ZW0nLCAnYW5ub3VuY2VtZW50Jyk7XHJcbiAgICBjb25zdCB1bnN1YkFubm91bmNlbWVudCA9IG9uU25hcHNob3QoYW5ub3VuY2VtZW50UmVmLCAoZG9jU25hcCkgPT4ge1xyXG4gICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgIHNldFN5c3RlbUFubm91bmNlbWVudChkb2NTbmFwLmRhdGEoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0U3lzdGVtQW5ub3VuY2VtZW50KG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gdG8gRXZlbnRzIChMaW1pdCA1MCBhY3RpdmUpXHJcbiAgICBjb25zdCBldmVudHNRdWVyeSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdldmVudHMnKSwgbGltaXQoNTApKTtcclxuICAgIGNvbnN0IHVuc3ViRXZlbnRzID0gb25TbmFwc2hvdChldmVudHNRdWVyeSwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGNvbnN0IGV2ZW50c0xpc3QgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbiAgICAgIGV2ZW50c0xpc3Quc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIC8vIDEuIFNvcnQgYnkgbWFudWFsIG9yZGVyIGlmIGV4aXN0cyAoYXNjZW5kaW5nOiBsb3cgbnVtYmVycyBmaXJzdClcclxuICAgICAgICBjb25zdCBvcmRlckEgPSBhLm9yZGVyICE9PSB1bmRlZmluZWQgPyBhLm9yZGVyIDogOTk5OTtcclxuICAgICAgICBjb25zdCBvcmRlckIgPSBiLm9yZGVyICE9PSB1bmRlZmluZWQgPyBiLm9yZGVyIDogOTk5OTtcclxuICAgICAgICBpZiAob3JkZXJBICE9PSBvcmRlckIpIHJldHVybiBvcmRlckEgLSBvcmRlckI7XHJcblxyXG4gICAgICAgIC8vIDIuIE9wZW4gZXZlbnRzIGZpcnN0XHJcbiAgICAgICAgaWYgKGEuc3RhdHVzID09PSAnb3BlbicgJiYgYi5zdGF0dXMgIT09ICdvcGVuJykgcmV0dXJuIC0xO1xyXG4gICAgICAgIGlmIChhLnN0YXR1cyAhPT0gJ29wZW4nICYmIGIuc3RhdHVzID09PSAnb3BlbicpIHJldHVybiAxO1xyXG5cclxuICAgICAgICAvLyAzLiBUaGVuIHNvcnQgYnkgc3RhcnRBdCBkYXRlIChhc2NlbmRpbmc6IGVhcmxpZXN0IGRhdGUgZmlyc3QpXHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEuc3RhcnRBdCkgLSBuZXcgRGF0ZShiLnN0YXJ0QXQpO1xyXG4gICAgICB9KTtcclxuICAgICAgc2V0RXZlbnRzKGV2ZW50c0xpc3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTGlzdGVuIHRvIElkZWFzIChMaW1pdCA1MCByZWNlbnQpXHJcbiAgICAvLyBSZW1vdmVkIG9yZGVyQnkgdG8gYXZvaWQgbWlzc2luZyBpbmRleCBpc3N1ZXMuIFNvcnRpbmcgY2xpZW50LXNpZGUuXHJcbiAgICBjb25zdCBpZGVhc1F1ZXJ5ID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ2lkZWFzJyksIGxpbWl0KDUwKSk7XHJcbiAgICBjb25zdCB1bnN1YklkZWFzID0gb25TbmFwc2hvdChpZGVhc1F1ZXJ5LCAoc25hcHNob3QpID0+IHtcclxuICAgICAgY29uc3QgbGlzdCA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuICAgICAgbGlzdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnN1Ym1pdHRlZEF0KSAtIG5ldyBEYXRlKGEuc3VibWl0dGVkQXQpKTtcclxuICAgICAgc2V0SWRlYXMobGlzdCk7XHJcbiAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxpc3RlbmluZyB0byBpZGVhczpcIiwgZXJyb3IpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTGlzdGVuIHRvIFVzZXJzIChHbG9iYWwgTGlzdCBmb3IgTGVhZGVyYm9hcmQgJiBBZG1pbilcclxuICAgIGNvbnN0IHVzZXJzUXVlcnkgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAndXNlcnMnKSwgbGltaXQoNTApKTtcclxuICAgIGNvbnN0IHVuc3ViVXNlcnMgPSBvblNuYXBzaG90KHVzZXJzUXVlcnksIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4gICAgICAvLyBDbGllbnQtc2lkZSBzb3J0IGJ5IGJhbGFuY2UgZGVzY1xyXG4gICAgICBsaXN0LnNvcnQoKGEsIGIpID0+IChiLmJhbGFuY2UgfHwgMCkgLSAoYS5iYWxhbmNlIHx8IDApKTtcclxuICAgICAgc2V0VXNlcnMobGlzdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB1bnN1YkV2ZW50cygpO1xyXG4gICAgICB1bnN1YklkZWFzKCk7XHJcbiAgICAgIHVuc3ViVXNlcnMoKTtcclxuICAgIH07XHJcblxyXG5cclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIC0tLSAzLiBCZXRzIExpc3RlbmVyIChPbmx5IGZvciBsb2dnZWQgaW4gdXNlcikgLS0tXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICBzZXRCZXRzKFtdKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJldHNRdWVyeSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdiZXRzJyksIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VyLmlkKSwgbGltaXQoMTAwKSk7XHJcbiAgICBjb25zdCB1bnN1YkJldHMgPSBvblNuYXBzaG90KGJldHNRdWVyeSwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIC8vIFdlJ2xsIHRydXN0IHRoZSBjbGllbnQgc2lkZSBzb3J0aW5nIGZvciBub3cgb3IgYWRkIG9yZGVyQnkgaW5kZXggbGF0ZXJcclxuICAgICAgY29uc3QgbXlCZXRzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4gICAgICBteUJldHMuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5wbGFjZWRBdCkgLSBuZXcgRGF0ZShhLnBsYWNlZEF0KSk7XHJcbiAgICAgIHNldEJldHMobXlCZXRzKTtcclxuICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JldF9iZXRzX2NhY2hlJywgSlNPTi5zdHJpbmdpZnkobXlCZXRzKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJCZXRzKCk7XHJcbiAgfSwgW3VzZXI/LmlkXSk7IC8vIE9ubHkgcmUtcnVuIGlmIHVzZXIgSUQgY2hhbmdlcyBpcyB0cmlja3ksIGJldHRlciBzYWZlIGRlcGVuZGVuY3lcclxuXHJcbiAgLy8gLS0tIEFjdGlvbnMgLS0tXHJcblxyXG4gIGNvbnN0IHNpZ251cCA9IGFzeW5jIChlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwID0gYXdhaXQgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgVXNlciBEb2N1bWVudFxyXG4gICAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlcnMnLCByZXNwLnVzZXIudWlkKSwge1xyXG4gICAgICAgIGVtYWlsLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSB8fCBlbWFpbC5zcGxpdCgnQCcpWzBdLFxyXG4gICAgICAgIHJvbGU6IGVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2FkbWluJykgPyAnYWRtaW4nIDogJ3VzZXInLCAvLyBCYXNpYyByb2xlIGFzc2lnbm1lbnRcclxuICAgICAgICBiYWxhbmNlOiAxMDAwLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2lnbmluID0gYXN5bmMgKGVtYWlsT3JVc2VybmFtZSwgcGFzc3dvcmQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBlbWFpbCA9IGVtYWlsT3JVc2VybmFtZS50cmltKCk7XHJcblxyXG4gICAgICAvLyBJZiBpdCBsb29rcyBsaWtlIGFuIGVtYWlsLCBqdXN0IHRyeSBpdCBkaXJlY3RseVxyXG4gICAgICBpZiAoZW1haWwuaW5jbHVkZXMoJ0AnKSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpO1xyXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFbWFpbCBsb2dpbiBmYWlsZWRcIiwgZSk7XHJcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXNlcm5hbWUgbG9va3VwIGxvZ2ljXHJcbiAgICAgIGNvbnN0IHVzZXJuYW1lSW5wdXQgPSBlbWFpbDtcclxuICAgICAgY29uc3QgY29sID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XHJcbiAgICAgIGxldCBjYW5kaWRhdGVFbWFpbHMgPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgICAvLyBIZWxwZXIgdG8gZmV0Y2ggYW5kIGFkZCBlbWFpbHMgKE5vIExJTUlUIHRvIGVuc3VyZSB3ZSBmaW5kIHRoZSByaWdodCBvbmUpXHJcbiAgICAgIGNvbnN0IGFkZENhbmRpZGF0ZXMgPSBhc3luYyAocGFyYW0sIHZhbCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBxID0gcXVlcnkoY29sLCB3aGVyZShwYXJhbSwgJz09JywgdmFsKSk7IC8vIFJlbW92ZWQgbGltaXRcclxuICAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gICAgICAgICAgc25hcC5mb3JFYWNoKGRvYyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5lbWFpbCkgY2FuZGlkYXRlRW1haWxzLmFkZChkYXRhLmVtYWlsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlF1ZXJ5IGZhaWxlZCBmb3JcIiwgdmFsLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIDEuIEV4YWN0IE1hdGNoXHJcbiAgICAgIGF3YWl0IGFkZENhbmRpZGF0ZXMoJ3VzZXJuYW1lJywgdXNlcm5hbWVJbnB1dCk7XHJcbiAgICAgIC8vIDIuIExvd2VyY2FzZVxyXG4gICAgICBhd2FpdCBhZGRDYW5kaWRhdGVzKCd1c2VybmFtZScsIHVzZXJuYW1lSW5wdXQudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgIC8vIDMuIENhcGl0YWxpemVkIChUcnkgc3RhbmRhcmQgRmlyc3QgQ2FwaXRhbClcclxuICAgICAgY29uc3QgY2FwaXRhbGl6ZWQgPSB1c2VybmFtZUlucHV0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdXNlcm5hbWVJbnB1dC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBhd2FpdCBhZGRDYW5kaWRhdGVzKCd1c2VybmFtZScsIGNhcGl0YWxpemVkKTtcclxuXHJcbiAgICAgIC8vIDQuIFVQUEVSQ0FTRVxyXG4gICAgICBhd2FpdCBhZGRDYW5kaWRhdGVzKCd1c2VybmFtZScsIHVzZXJuYW1lSW5wdXQudG9VcHBlckNhc2UoKSk7XHJcblxyXG4gICAgICBpZiAoY2FuZGlkYXRlRW1haWxzLnNpemUgPT09IDApIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBVc2VybmFtZSAnJHt1c2VybmFtZUlucHV0fScgZG9lcyBub3QgZXhpc3QuYCB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUcnkgZWFjaCBlbWFpbFxyXG4gICAgICBsZXQgdHJpZWQgPSBbXTtcclxuICAgICAgZm9yIChsZXQgY2FuZGlkYXRlRW1haWwgb2YgY2FuZGlkYXRlRW1haWxzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYW5kaWRhdGVFbWFpbCAhPT0gJ3N0cmluZycpIGNvbnRpbnVlO1xyXG4gICAgICAgIGNhbmRpZGF0ZUVtYWlsID0gY2FuZGlkYXRlRW1haWwudHJpbSgpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gQXR0ZW1wdCAxOiBTdGFuZGFyZFxyXG4gICAgICAgICAgYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgY2FuZGlkYXRlRW1haWwsIHBhc3N3b3JkKTtcclxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgLy8gQXR0ZW1wdCAyOiBUcmltbWVkIFBhc3N3b3JkXHJcbiAgICAgICAgICBpZiAocGFzc3dvcmQudHJpbSgpICE9PSBwYXNzd29yZCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGNhbmRpZGF0ZUVtYWlsLCBwYXNzd29yZC50cmltKCkpO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHsgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEF0dGVtcHQgMzogRW1haWwgd2l0aCBhbGwgd2hpdGVzcGFjZSByZW1vdmVkIChqdXN0IGluIGNhc2UpXHJcbiAgICAgICAgICBjb25zdCBlbWFpbE5vV2hpdGVzcGFjZSA9IGNhbmRpZGF0ZUVtYWlsLnJlcGxhY2UoL1xccy9nLCAnJyk7XHJcbiAgICAgICAgICBpZiAoZW1haWxOb1doaXRlc3BhY2UgIT09IGNhbmRpZGF0ZUVtYWlsKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWxOb1doaXRlc3BhY2UsIHBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUzKSB7IH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmllZC5wdXNoKGNhbmRpZGF0ZUVtYWlsKTtcclxuICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWwnIHx8IGVycm9yLmNvZGUgPT09ICdhdXRoL3dyb25nLXBhc3N3b3JkJykge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFJldHVybiB0ZWNobmljYWwgZXJyb3JcclxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFN5c3RlbSBFcnJvciAoJHtlcnJvci5jb2RlfSlgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBsb29wIGZpbmlzaGVzLCBub25lIHdvcmtlZC5cclxuICAgICAgLy8gUmV0dXJuIHRoZSBlbWFpbCBmb3VuZCBzbyB0aGUgVUkgY2FuIHN3aXRjaCB0byBpdC5cclxuICAgICAgY29uc3QgZmlyc3RFbWFpbCA9IHRyaWVkWzBdO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIHN1Z2dlc3RlZEVtYWlsOiBmaXJzdEVtYWlsLFxyXG4gICAgICAgIGVycm9yOiAnUGFzc3dvcmQgaW5jb3JyZWN0LidcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlN5c3RlbSBFcnJvcjogXCIgKyBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgc2lnbk91dChhdXRoKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcGxhY2VCZXQgPSBhc3luYyAoZXZlbnRJZCwgb3V0Y29tZUlkLCBhbW91bnQpID0+IHtcclxuICAgIGlmICghdXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm90IGxvZ2dlZCBpbicgfTtcclxuICAgIGlmICh1c2VyLmJhbGFuY2UgPCBhbW91bnQpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0luc3VmZmljaWVudCBmdW5kcycgfTtcclxuXHJcbiAgICBjb25zdCBldmVudCA9IGV2ZW50cy5maW5kKGUgPT4gZS5pZCA9PT0gZXZlbnRJZCk7XHJcbiAgICBpZiAoIWV2ZW50IHx8IGV2ZW50LnN0YXR1cyAhPT0gJ29wZW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFdmVudCBpcyBsb2NrZWQnIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGJldHMgb24gT1RIRVIgc2lkZXNcclxuICAgIGNvbnN0IHFFeGlzdGluZyA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdiZXRzJyksIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VyLmlkKSwgd2hlcmUoJ2V2ZW50SWQnLCAnPT0nLCBldmVudElkKSk7XHJcbiAgICBjb25zdCBzbmFwRXhpc3RpbmcgPSBhd2FpdCBnZXREb2NzKHFFeGlzdGluZyk7XHJcbiAgICBjb25zdCBvdGhlclNpZGVCZXQgPSBzbmFwRXhpc3RpbmcuZG9jcy5maW5kKGQgPT4gZC5kYXRhKCkub3V0Y29tZUlkICE9PSBvdXRjb21lSWQpO1xyXG5cclxuICAgIGlmIChvdGhlclNpZGVCZXQpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkxveWFsdHkgY2hlY2shIFlvdSBhbHJlYWR5IGJldCBvbiB0aGUgb3RoZXIgc2lkZS4gTm8gc3dpdGNoaW5nLlwiIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3V0Y29tZSA9IGV2ZW50Lm91dGNvbWVzLmZpbmQobyA9PiBvLmlkID09PSBvdXRjb21lSWQpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIDEuIERlZHVjdCBCYWxhbmNlICYgQWRkIHRvIEludmVzdGVkXHJcbiAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIuaWQpO1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2ModXNlclJlZiwge1xyXG4gICAgICAgIGJhbGFuY2U6IGluY3JlbWVudCgtYW1vdW50KSxcclxuICAgICAgICBpbnZlc3RlZDogaW5jcmVtZW50KGFtb3VudCkgLy8gVHJhY2sgYWN0aXZlIHdhZ2VycyBmb3IgbGVhZGVyYm9hcmRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyAyLiBDcmVhdGUgQmV0XHJcbiAgICAgIGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnYmV0cycpLCB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgIGV2ZW50SWQsXHJcbiAgICAgICAgb3V0Y29tZUlkLFxyXG4gICAgICAgIG91dGNvbWVMYWJlbDogb3V0Y29tZS5sYWJlbCxcclxuICAgICAgICBldmVudFRpdGxlOiBldmVudC50aXRsZSxcclxuICAgICAgICBhbW91bnQ6IHBhcnNlRmxvYXQoYW1vdW50KSxcclxuICAgICAgICBvZGRzOiBvdXRjb21lLm9kZHMsXHJcbiAgICAgICAgcG90ZW50aWFsUGF5b3V0OiBhbW91bnQgKiBvdXRjb21lLm9kZHMsXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgcGxhY2VkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIDMuIFVwZGF0ZSBFdmVudCBTdGF0cyAoQmVzdCBFZmZvcnQgLSBpZ25vcmUgcGVybWlzc2lvbiBlcnJvcnMgZm9yIG5vdylcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBldmVudFJlZiA9IGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhldmVudFJlZiwge1xyXG4gICAgICAgICAgW2BzdGF0cy5jb3VudHMuJHtvdXRjb21lSWR9YF06IGluY3JlbWVudCgxKSxcclxuICAgICAgICAgIFtgc3RhdHMuYW1vdW50cy4ke291dGNvbWVJZH1gXTogaW5jcmVtZW50KGFtb3VudCksXHJcbiAgICAgICAgICAnc3RhdHMudG90YWxCZXRzJzogaW5jcmVtZW50KDEpLFxyXG4gICAgICAgICAgJ3N0YXRzLnRvdGFsUG9vbCc6IGluY3JlbWVudChhbW91bnQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKHN0YXRzRXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHVwZGF0ZSBldmVudCBzdGF0cyAobGlrZWx5IHBlcm1pc3Npb24gaXNzdWUpOlwiLCBzdGF0c0Vycik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBjcmVhdGVFdmVudCA9IGFzeW5jIChldmVudERhdGEpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnZXZlbnRzJyksIHtcclxuICAgICAgICBzdGF0dXM6ICdvcGVuJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAuLi5ldmVudERhdGFcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBldmVudFwiLCBlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVFdmVudE9yZGVyID0gYXN5bmMgKGV2ZW50SWQsIG5ld09yZGVyKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH07XHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MoZGIsICdldmVudHMnLCBldmVudElkKSwgeyBvcmRlcjogbmV3T3JkZXIgfSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVFdmVudCA9IGFzeW5jIChldmVudElkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBOb3RlOiBUaGlzIGRvZXMgTk9UIHJlZnVuZCBiZXRzIGF1dG9tYXRpY2FsbHkgaW4gdGhpcyBzaW1wbGUgdmVyc2lvblxyXG4gICAgICAvLyBZb3Ugd291bGQgbmVlZCBDbG91ZCBGdW5jdGlvbnMgZm9yIHJvYnVzdCBiYWNrZW5kIGxvZ2ljXHJcbiAgICAgIGNvbnN0IGV2ZW50UmVmID0gZG9jKGRiLCAnZXZlbnRzJywgZXZlbnRJZCk7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhldmVudFJlZiwgeyBzdGF0dXM6ICdkZWxldGVkJyB9KTsgLy8gU29mdCBkZWxldGUgaXMgc2FmZXI/XHJcbiAgICAgIC8vIEZvciBub3csIGxldCdzIGp1c3QgYWN0dWFsbHkgZGVsZXRlIGl0IGZvciBjbGVhbmxpbmVzcyBpbiB0aGUgVUkgYXMgcmVxdWVzdGVkIHByZXZpb3VzbHlcclxuICAgICAgLy8gYnV0IHVzdWFsbHkgb24gbG9jYWwgdmVyc2lvbiB3ZSBqdXN0IGZpbHRlcmVkLlxyXG4gICAgICAvLyBXYWl0LCBGaXJlc3RvcmUgZGVsZXRlRG9jIGlzIGJldHRlci5cclxuICAgICAgLy8gYXdhaXQgZGVsZXRlRG9jKGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpKTsgXHJcbiAgICAgIC8vIExldCdzIHN0aWNrIHRvIHVwZGF0ZSB0byAnZGVsZXRlZCcgb3IganVzdCByZWx5IG9uIHRoZSBVSSBmaWx0ZXI/XHJcbiAgICAgIC8vIExldCdzIGFjdHVhbGx5IGRlbGV0ZS5cclxuICAgICAgYXdhaXQgZGVsZXRlRG9jKGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB0b2dnbGVGZWF0dXJlZCA9IGFzeW5jIChldmVudElkLCBjdXJyZW50U3RhdHVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnZXZlbnRzJywgZXZlbnRJZCksIHtcclxuICAgICAgICBmZWF0dXJlZDogIWN1cnJlbnRTdGF0dXNcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSk7IH1cclxuICB9O1xyXG5cclxuICBjb25zdCByZXNvbHZlRXZlbnQgPSBhc3luYyAoZXZlbnRJZCwgd2lubmVyT3V0Y29tZUlkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xyXG4gICAgICBjb25zdCBldmVudFJlZiA9IGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpO1xyXG5cclxuICAgICAgLy8gMS4gTWFyayBFdmVudCBhcyBTZXR0bGVkIChJbiBCYXRjaClcclxuICAgICAgYmF0Y2gudXBkYXRlKGV2ZW50UmVmLCB7XHJcbiAgICAgICAgc3RhdHVzOiAnc2V0dGxlZCcsXHJcbiAgICAgICAgd2lubmVyT3V0Y29tZUlkXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gMi4gUHJvY2VzcyBCZXRzXHJcbiAgICAgIGNvbnN0IGJldHNRID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ2JldHMnKSwgd2hlcmUoJ2V2ZW50SWQnLCAnPT0nLCBldmVudElkKSk7XHJcbiAgICAgIGNvbnN0IGJldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhiZXRzUSk7IC8vIE5lZWQgYWxsIGJldHMgdG8gc2V0dGxlXHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGJldERvYyBvZiBiZXRzU25hcC5kb2NzKSB7XHJcbiAgICAgICAgY29uc3QgYmV0ID0gYmV0RG9jLmRhdGEoKTtcclxuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgc2V0dGxlZCB0byBhdm9pZCBkb3VibGUtcGF5L2RlZHVjdFxyXG4gICAgICAgIGlmIChiZXQuc3RhdHVzICE9PSAncGVuZGluZycpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBjb25zdCBpc1dpbm5lciA9IGJldC5vdXRjb21lSWQgPT09IHdpbm5lck91dGNvbWVJZDtcclxuICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCBiZXQudXNlcklkKTtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggVXNlciB0byBDYWxjIFBvcnRmb2xpbyBJbXBhY3RcclxuICAgICAgICBsZXQgcGVyY2VudENoYW5nZSA9IDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgICAgICAgaWYgKHVzZXJTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlclNuYXAuZGF0YSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmV0V29ydGggPSAodXNlckRhdGEuYmFsYW5jZSB8fCAwKSArICh1c2VyRGF0YS5pbnZlc3RlZCB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByb2ZpdCAob3IgTG9zcykgZnJvbSB0aGlzIHNwZWNpZmljIGJldFxyXG4gICAgICAgICAgICBjb25zdCBwcm9maXQgPSBpc1dpbm5lclxyXG4gICAgICAgICAgICAgID8gKGJldC5wb3RlbnRpYWxQYXlvdXQgLSBiZXQuYW1vdW50KSAvLyBOZXQgUHJvZml0XHJcbiAgICAgICAgICAgICAgOiAtYmV0LmFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldCBMb3NzXHJcblxyXG4gICAgICAgICAgICAvLyBQb3J0Zm9saW8gSW1wYWN0ICUgPSAoUHJvZml0IC8gY3VycmVudE5ldFdvcnRoKSAqIDEwMFxyXG4gICAgICAgICAgICBwZXJjZW50Q2hhbmdlID0gY3VycmVudE5ldFdvcnRoID4gMFxyXG4gICAgICAgICAgICAgID8gKHByb2ZpdCAvIGN1cnJlbnROZXRXb3J0aCkgKiAxMDBcclxuICAgICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsYyBsZWdhY3kgc3RhdHNcIiwgZXJyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldHRsZSB0aGUgYmV0IGRvY3VtZW50XHJcbiAgICAgICAgYmF0Y2gudXBkYXRlKGJldERvYy5yZWYsIHtcclxuICAgICAgICAgIHN0YXR1czogaXNXaW5uZXIgPyAnd29uJyA6ICdsb3N0JyxcclxuICAgICAgICAgIHNldHRsZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVc2VyIEJhbGFuY2UgJiBJbnZlc3RlZCAmIExhc3QgQmV0IFN0YXRzXHJcbiAgICAgICAgaWYgKGlzV2lubmVyKSB7XHJcbiAgICAgICAgICBiYXRjaC51cGRhdGUodXNlclJlZiwge1xyXG4gICAgICAgICAgICBiYWxhbmNlOiBpbmNyZW1lbnQoYmV0LnBvdGVudGlhbFBheW91dCksXHJcbiAgICAgICAgICAgIGludmVzdGVkOiBpbmNyZW1lbnQoLWJldC5hbW91bnQpLFxyXG4gICAgICAgICAgICBsYXN0QmV0UGVyY2VudDogcGVyY2VudENoYW5nZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJhdGNoLnVwZGF0ZSh1c2VyUmVmLCB7XHJcbiAgICAgICAgICAgIGludmVzdGVkOiBpbmNyZW1lbnQoLWJldC5hbW91bnQpLFxyXG4gICAgICAgICAgICBsYXN0QmV0UGVyY2VudDogcGVyY2VudENoYW5nZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgTm90aWZpY2F0aW9uXHJcbiAgICAgICAgY29uc3Qgbm90aWZSZWYgPSBkb2MoY29sbGVjdGlvbihkYiwgJ25vdGlmaWNhdGlvbnMnKSk7XHJcbiAgICAgICAgYmF0Y2guc2V0KG5vdGlmUmVmLCB7XHJcbiAgICAgICAgICB1c2VySWQ6IGJldC51c2VySWQsXHJcbiAgICAgICAgICB0eXBlOiAncmVzdWx0JyxcclxuICAgICAgICAgIGV2ZW50SWQ6IGV2ZW50SWQsXHJcbiAgICAgICAgICB0aXRsZTogaXNXaW5uZXIgPyAnWW91IFdvbiEnIDogJ0JldCBMb3N0JyxcclxuICAgICAgICAgIG1lc3NhZ2U6IGlzV2lubmVyXHJcbiAgICAgICAgICAgID8gYFlvdSB3b24gJCR7KGJldC5wb3RlbnRpYWxQYXlvdXQpLnRvRml4ZWQoMil9IG9uICR7YmV0LmV2ZW50VGl0bGV9ICgke2JldC5vdXRjb21lTGFiZWx9KWBcclxuICAgICAgICAgICAgOiBgWW91IGxvc3QgJCR7YmV0LmFtb3VudC50b0ZpeGVkKDIpfSBvbiAke2JldC5ldmVudFRpdGxlfSAoJHtiZXQub3V0Y29tZUxhYmVsfSlgLFxyXG4gICAgICAgICAgcmVhZDogZmFsc2UsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVzb2x2ZSBFdmVudCBFcnJvcjpcIiwgZSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZml4U3R1Y2tCZXRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZXZlbnRzUSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdldmVudHMnKSwgd2hlcmUoJ3N0YXR1cycsICc9PScsICdzZXR0bGVkJykpO1xyXG4gICAgICBjb25zdCBldmVudHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhldmVudHNRKTtcclxuXHJcbiAgICAgIGxldCB0b3RhbEZpeGVkID0gMDtcclxuICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgZXZlbnREb2Mgb2YgZXZlbnRzU25hcC5kb2NzKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudERvYy5kYXRhKCk7XHJcbiAgICAgICAgY29uc3Qgd2lubmVyT3V0Y29tZUlkID0gZXZlbnQud2lubmVyT3V0Y29tZUlkO1xyXG4gICAgICAgIGlmICghd2lubmVyT3V0Y29tZUlkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmV0c1EgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnYmV0cycpLCB3aGVyZSgnZXZlbnRJZCcsICc9PScsIGV2ZW50RG9jLmlkKSwgd2hlcmUoJ3N0YXR1cycsICc9PScsICdwZW5kaW5nJykpO1xyXG4gICAgICAgIGNvbnN0IGJldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhiZXRzUSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgYmV0RG9jIG9mIGJldHNTbmFwLmRvY3MpIHtcclxuICAgICAgICAgIGNvbnN0IGJldCA9IGJldERvYy5kYXRhKCk7XHJcbiAgICAgICAgICAvLyBEb3VibGUgY2hlY2sgaXQncyBwZW5kaW5nXHJcbiAgICAgICAgICBpZiAoYmV0LnN0YXR1cyAhPT0gJ3BlbmRpbmcnKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBjb25zdCBpc1dpbm5lciA9IGJldC5vdXRjb21lSWQgPT09IHdpbm5lck91dGNvbWVJZDtcclxuICAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIGJldC51c2VySWQpO1xyXG5cclxuICAgICAgICAgIGxldCBwZXJjZW50Q2hhbmdlID0gMDtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEZldGNoIFVzZXIgZm9yIE5ldCBXb3J0aCBDYWxjXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpIDogeyBiYWxhbmNlOiAwLCBpbnZlc3RlZDogMCB9O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmV0V29ydGggPSAodXNlckRhdGEuYmFsYW5jZSB8fCAwKSArICh1c2VyRGF0YS5pbnZlc3RlZCB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByb2ZpdCAob3IgTG9zcykgZnJvbSB0aGlzIHNwZWNpZmljIGJldFxyXG4gICAgICAgICAgICBjb25zdCBwcm9maXQgPSBpc1dpbm5lclxyXG4gICAgICAgICAgICAgID8gKGJldC5wb3RlbnRpYWxQYXlvdXQgLSBiZXQuYW1vdW50KSAvLyBOZXQgUHJvZml0XHJcbiAgICAgICAgICAgICAgOiAtYmV0LmFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldCBMb3NzXHJcblxyXG4gICAgICAgICAgICAvLyBQb3J0Zm9saW8gSW1wYWN0ICUgPSAoUHJvZml0IC8gY3VycmVudE5ldFdvcnRoKSAqIDEwMFxyXG4gICAgICAgICAgICBwZXJjZW50Q2hhbmdlID0gY3VycmVudE5ldFdvcnRoID4gMFxyXG4gICAgICAgICAgICAgID8gKHByb2ZpdCAvIGN1cnJlbnROZXRXb3J0aCkgKiAxMDBcclxuICAgICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB9XHJcblxyXG4gICAgICAgICAgYmF0Y2gudXBkYXRlKGJldERvYy5yZWYsIHtcclxuICAgICAgICAgICAgc3RhdHVzOiBpc1dpbm5lciA/ICd3b24nIDogJ2xvc3QnLFxyXG4gICAgICAgICAgICBzZXR0bGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGlzV2lubmVyKSB7XHJcbiAgICAgICAgICAgIGJhdGNoLnVwZGF0ZSh1c2VyUmVmLCB7XHJcbiAgICAgICAgICAgICAgYmFsYW5jZTogaW5jcmVtZW50KGJldC5wb3RlbnRpYWxQYXlvdXQpLFxyXG4gICAgICAgICAgICAgIGludmVzdGVkOiBpbmNyZW1lbnQoLWJldC5hbW91bnQpLFxyXG4gICAgICAgICAgICAgIGxhc3RCZXRQZXJjZW50OiBwZXJjZW50Q2hhbmdlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmF0Y2gudXBkYXRlKHVzZXJSZWYsIHtcclxuICAgICAgICAgICAgICBpbnZlc3RlZDogaW5jcmVtZW50KC1iZXQuYW1vdW50KSxcclxuICAgICAgICAgICAgICBsYXN0QmV0UGVyY2VudDogcGVyY2VudENoYW5nZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRvdGFsRml4ZWQrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0b3RhbEZpeGVkID4gMCkge1xyXG4gICAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IGBGaXhlZCAke3RvdGFsRml4ZWR9IHN0dWNrIGJldHMuYCB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuXHJcbiAgY29uc3QgZGVsZXRlQmV0ID0gYXN5bmMgKGJldElkKSA9PiB7XHJcbiAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH07XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCAnYmV0cycsIGJldElkKSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVFdmVudCA9IGFzeW5jIChldmVudElkLCBkYXRhKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnZXZlbnRzJywgZXZlbnRJZCksIGRhdGEpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0TWFpbkJldCA9IGFzeW5jIChldmVudElkLCBtYWluT3V0Y29tZUlkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH07XHJcbiAgICAgIGNvbnN0IGV2ZW50UmVmID0gZG9jKGRiLCAnZXZlbnRzJywgZXZlbnRJZCk7XHJcbiAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2MoZXZlbnRSZWYpO1xyXG4gICAgICBpZiAoIXNuYXAuZXhpc3RzKCkpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJFdmVudCBub3QgZm91bmRcIiB9O1xyXG5cclxuICAgICAgY29uc3QgZXZ0ID0gc25hcC5kYXRhKCk7XHJcbiAgICAgIC8vIFJlbW92ZSAnbWFpbicgdHlwZSBmcm9tIGFsbCwgdGhlbiBzZXQgaXQgZm9yIHRoZSBjaG9zZW4gb25lIHBsdXMgaXRzIHNpYmxpbmc/XHJcbiAgICAgIC8vIFdhaXQsIFwiTWFpbiBCZXRcIiB1c3VhbGx5IGltcGxpZXMgYSBQQUlSIG9mIG91dGNvbWVzIChlLmcuIENoaWVmcyB2cyA0OWVycykuXHJcbiAgICAgIC8vIElmIHRoZSB1c2VyIHNlbGVjdHMgXCJDaGllZnNcIiBhcyBtYWluLCB3ZSBsaWtlbHkgd2FudCBcIjQ5ZXJzXCIgKHRoZSBvdGhlciBvbmUgaW4gdGhhdCBwYWlyKSB0byBhbHNvIGJlIG1haW4uXHJcbiAgICAgIC8vIEJ1dCBvdXRjb21lcyBhcmUganVzdCBhIGZsYXQgbGlzdC4gXHJcbiAgICAgIC8vIFNpbXBsaWZpY2F0aW9uOiBUaGUgYWRtaW4gY2xpY2tzIFwiSGlnaGxpZ2h0IFRoaXMgUGFpclwiIG9uIG9uZSBvdXRjb21lLCBhbmQgd2UgYXNzdW1lIHRoZSBuZXh0IG9uZSBpcyBpdHMgcGFpcj9cclxuICAgICAgLy8gT3Igd2UganVzdCBmbGFnIFRISVMgb3V0Y29tZSdzIHBhaXIgYXMgbWFpbi5cclxuXHJcbiAgICAgIC8vIExldCdzIGl0ZXJhdGUgYW5kIGp1c3QgdG9nZ2xlIHRoZSB0eXBlICdtYWluJyBmb3IgdGhlIHRhcmdldGVkIG91dGNvbWUocykuXHJcbiAgICAgIC8vIEFjdHVhbGx5LCBjbGVhbmVyIGRlc2lnbjogdG9nZ2xlIFwidHlwZTogbWFpblwiIGZvciBzcGVjaWZpYyBvdXRjb21lcy5cclxuXHJcbiAgICAgIGNvbnN0IG5ld091dGNvbWVzID0gZXZ0Lm91dGNvbWVzLm1hcChvID0+IHtcclxuICAgICAgICBpZiAoby5pZCA9PT0gbWFpbk91dGNvbWVJZCkgcmV0dXJuIHsgLi4ubywgdHlwZTogJ21haW4nIH07XHJcbiAgICAgICAgLy8gSWYgd2Ugd2FudCB0byB1bnNldCBvdGhlcnM/IE1heWJlIG5vdCwgbWF5YmUgbXVsdGlwbGUgbWFpbiBiZXRzIGFsbG93ZWQuXHJcbiAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGV2ZW50UmVmLCB7IG91dGNvbWVzOiBuZXdPdXRjb21lcyB9KTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN1Ym1pdElkZWEgPSBhc3luYyAoaWRlYVRleHQpID0+IHtcclxuICAgIGlmICghdXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm90IGxvZ2dlZCBpbicgfTtcclxuXHJcbiAgICAvLyBEdXBsaWNhdGUgQ2hlY2tcclxuICAgIGNvbnN0IHFEdXAgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnaWRlYXMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXIuaWQpLCB3aGVyZSgndGV4dCcsICc9PScsIGlkZWFUZXh0KSk7XHJcbiAgICBjb25zdCBzbmFwRHVwID0gYXdhaXQgZ2V0RG9jcyhxRHVwKTtcclxuICAgIGlmICghc25hcER1cC5lbXB0eSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91IGFscmVhZHkgc3VnZ2VzdGVkIHRoaXMhIEhleSBzd2l0Y2ggaXQgdXAuXCIgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBEYWlseSBMaW1pdCAoQ2xpZW50LXNpZGUgY2hlY2sgYmFzZWQgb24gbG9jYWwgdXNlciBkYXRhLCBpZGVhbGx5IGJhY2tlbmQgZG9lcyB0aGlzKVxyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpO1xyXG4gICAgbGV0IGN1cnJlbnRDb3VudCA9IDA7XHJcblxyXG4gICAgaWYgKHVzZXIuc3VibWlzc2lvbkRhdGEgJiYgdXNlci5zdWJtaXNzaW9uRGF0YS5kYXRlID09PSB0b2RheSkge1xyXG4gICAgICBjdXJyZW50Q291bnQgPSB1c2VyLnN1Ym1pc3Npb25EYXRhLmNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50Q291bnQgPj0gNSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdEYWlseSBsaW1pdCByZWFjaGVkICg1LzUpLiBDb21lIGJhY2sgdG9tb3Jyb3chJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIDEuIENyZWF0ZSBJZGVhIERvY1xyXG4gICAgICBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ2lkZWFzJyksIHtcclxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICAgICAgdGV4dDogaWRlYVRleHQsXHJcbiAgICAgICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIDIuIFVwZGF0ZSBVc2VyIChSZXdhcmQgKyBTdWJtaXNzaW9uIENvdW50KVxyXG4gICAgICAvLyBJZiBkYXRlIGRpZmZlcmVudCwgc2ltcGxlIHNldC4gSWYgc2FtZSwgaW5jcmVtZW50LlxyXG4gICAgICAvLyBGaXJlc3RvcmUgdXBkYXRlIGlzIHRyaWNreSB3aXRoIG5lc3RlZCBvYmplY3RzLCBzbyB3ZSBzZXQgdGhlIHdob2xlIG9iamVjdC5cclxuICAgICAgLy8gV2UgY2FsY3VsYXRlIG5ldyBjb3VudCBsb2NhbGx5IHRvIGVuc3VyZSBzeW5jIHdpdGggdGhlIGNoZWNrLlxyXG5cclxuICAgICAgY29uc3QgbmV3Q291bnQgPSBjdXJyZW50Q291bnQgKyAxO1xyXG5cclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlci5pZCksIHtcclxuICAgICAgICBiYWxhbmNlOiBpbmNyZW1lbnQoMTUpLCAvLyBSZXdhcmRcclxuICAgICAgICBzdWJtaXNzaW9uRGF0YToge1xyXG4gICAgICAgICAgZGF0ZTogdG9kYXksXHJcbiAgICAgICAgICBjb3VudDogbmV3Q291bnRcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0lkZWEgc3VibWl0dGVkISArJDE1LjAwJyB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVVzZXJHcm91cHMgPSBhc3luYyAodGFyZ2V0VXNlcklkLCBncm91cHMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghdXNlciB8fCB1c2VyLnJvbGUgIT09ICdhZG1pbicpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfTtcclxuICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdGFyZ2V0VXNlcklkKTtcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJSZWYsIHsgZ3JvdXBzOiBncm91cHMgfHwgW10gfSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVJZGVhID0gYXN5bmMgKGlkZWFJZCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ2FkbWluJykgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZGVsZXRlRG9jKGRvYyhkYiwgJ2lkZWFzJywgaWRlYUlkKSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHVwZGF0ZXMpID0+IHtcclxuICAgIGlmICghdXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm90IGxvZ2dlZCBpbicgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAxLiBVcGRhdGUgRmlyZXN0b3JlIEZJUlNUIChQcm9maWxlIFBpYywgVXNlcm5hbWUsIGV0Yy4pXHJcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IG5vbi1zZW5zaXRpdmUgdXBkYXRlcyBhbHdheXMgc3VjY2VlZCBldmVuIGlmIEF1dGggZmFpbHMuXHJcbiAgICAgIGNvbnN0IGZpcmVzdG9yZVVwZGF0ZXMgPSB7IC4uLnVwZGF0ZXMgfTtcclxuICAgICAgZGVsZXRlIGZpcmVzdG9yZVVwZGF0ZXMucGFzc3dvcmQ7IC8vIERvbid0IHN0b3JlIHJhdyBwYXNzd29yZCBpbiBEQlxyXG5cclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlci5pZCksIGZpcmVzdG9yZVVwZGF0ZXMpO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGltbWVkaWF0ZWx5IGZvciB0aGUgVUlcclxuICAgICAgc2V0VXNlcihwcmV2ID0+ICh7IC4uLnByZXYsIC4uLmZpcmVzdG9yZVVwZGF0ZXMgfSkpO1xyXG5cclxuICAgICAgLy8gMi4gQXR0ZW1wdCBBdXRoIFVwZGF0ZXMgKFNlbnNpdGl2ZTogRW1haWwvUGFzc3dvcmQpXHJcbiAgICAgIGxldCBhdXRoVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICBsZXQgYXV0aEVycm9yTXNnID0gJyc7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBFbWFpbFxyXG4gICAgICAgIGlmICh1cGRhdGVzLmVtYWlsICYmIGF1dGguY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRBdXRoRW1haWwgPSBhdXRoLmN1cnJlbnRVc2VyLmVtYWlsO1xyXG4gICAgICAgICAgaWYgKHVwZGF0ZXMuZW1haWwudG9Mb3dlckNhc2UoKSAhPT0gY3VycmVudEF1dGhFbWFpbC50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZWJ1ZzogQXR0ZW1wdGluZyBlbWFpbCB1cGRhdGUgZnJvbSAke2N1cnJlbnRBdXRoRW1haWx9IHRvICR7dXBkYXRlcy5lbWFpbH1gKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVFbWFpbChhdXRoLmN1cnJlbnRVc2VyLCB1cGRhdGVzLmVtYWlsKTtcclxuICAgICAgICAgICAgICBhdXRoVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVtYWlsRXJyKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGVtYWlsRXJyLmNvZGUgPT09ICdhdXRoL29wZXJhdGlvbi1ub3QtYWxsb3dlZCcgfHwgZW1haWxFcnIubWVzc2FnZS5pbmNsdWRlcygndmVyaWZ5JykpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsKGF1dGguY3VycmVudFVzZXIsIHVwZGF0ZXMuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFByb2ZpbGUgc2F2ZWQgJiBWZXJpZmljYXRpb24gc2VudCB0byAke3VwZGF0ZXMuZW1haWx9LmAgfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdGhyb3cgZW1haWxFcnI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBQYXNzd29yZFxyXG4gICAgICAgIGlmICh1cGRhdGVzLnBhc3N3b3JkICYmIHVwZGF0ZXMucGFzc3dvcmQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgaWYgKGF1dGguY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlUGFzc3dvcmQoYXV0aC5jdXJyZW50VXNlciwgdXBkYXRlcy5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgIGF1dGhVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvcmNlIHJlZnJlc2ggaWYgQXV0aCBjaGFuZ2VkXHJcbiAgICAgICAgaWYgKGF1dGhVcGRhdGVkICYmIGF1dGguY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgIGF3YWl0IGF1dGguY3VycmVudFVzZXIucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBjYXRjaCAoYXV0aEVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdXRoIFVwZGF0ZSBGYWlsZWQ6XCIsIGF1dGhFcnIpO1xyXG4gICAgICAgIGlmIChhdXRoRXJyLmNvZGUgPT09ICdhdXRoL3JlcXVpcmVzLXJlY2VudC1sb2dpbicpIHtcclxuICAgICAgICAgIGF1dGhFcnJvck1zZyA9IFwiIChOb3RlOiBSZS1sb2dpbiByZXF1aXJlZCB0byB1cGRhdGUgRW1haWwvUGFzc3dvcmQpXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGF1dGhFcnJvck1zZyA9IGAgKEF1dGggRXJyb3I6ICR7YXV0aEVyci5tZXNzYWdlfSlgO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc3VjY2Vzc01zZyA9IGF1dGhVcGRhdGVkXHJcbiAgICAgICAgPyAnQWNjb3VudCAmIFByb2ZpbGUgdXBkYXRlZCEnXHJcbiAgICAgICAgOiAnUHJvZmlsZSB1cGRhdGVkIScgKyBhdXRoRXJyb3JNc2c7XHJcblxyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBhdXRoVXBkYXRlZCA/ICdBY2NvdW50ICYgUHJvZmlsZSB1cGRhdGVkIScgOiAnUHJvZmlsZSB1cGRhdGVkIScgKyBhdXRoRXJyb3JNc2cgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGaXJlc3RvcmUgVXBkYXRlIEVycm9yOlwiLCBlKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHJlY2FsY3VsYXRlTGVhZGVyYm9hcmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH07XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAxLiBGZXRjaCBhbGwgcGVuZGluZyBiZXRzXHJcbiAgICAgIGNvbnN0IGJldHNRID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ2JldHMnKSwgd2hlcmUoJ3N0YXR1cycsICc9PScsICdwZW5kaW5nJykpO1xyXG4gICAgICBjb25zdCBiZXRzU25hcCA9IGF3YWl0IGdldERvY3MoYmV0c1EpO1xyXG4gICAgICAvLyBJZiBpbmRleCBtaXNzaW5nLCB0aGlzIGxpbmUgdGhyb3dzLlxyXG5cclxuICAgICAgY29uc3QgaW52ZXN0bWVudHNCeVVzZXIgPSB7fTtcclxuICAgICAgYmV0c1NuYXAuZG9jcy5mb3JFYWNoKGRvYyA9PiB7XHJcbiAgICAgICAgY29uc3QgYmV0ID0gZG9jLmRhdGEoKTtcclxuICAgICAgICBpZiAoIWludmVzdG1lbnRzQnlVc2VyW2JldC51c2VySWRdKSBpbnZlc3RtZW50c0J5VXNlcltiZXQudXNlcklkXSA9IDA7XHJcbiAgICAgICAgaW52ZXN0bWVudHNCeVVzZXJbYmV0LnVzZXJJZF0gKz0gKGJldC5hbW91bnQgfHwgMCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gMi4gRmV0Y2ggYWxsIHVzZXJzIHRvIHVwZGF0ZSB0aGVpciBzdGF0c1xyXG4gICAgICBjb25zdCB1c2Vyc1NuYXAgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICd1c2VycycpKTtcclxuICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcclxuICAgICAgbGV0IHVwZGF0ZUNvdW50ID0gMDtcclxuXHJcbiAgICAgIHVzZXJzU25hcC5kb2NzLmZvckVhY2godXNlckRvYyA9PiB7XHJcbiAgICAgICAgY29uc3QgdWlkID0gdXNlckRvYy5pZDtcclxuICAgICAgICBjb25zdCBjdXJyZW50SW52ZXN0ZWQgPSB1c2VyRG9jLmRhdGEoKS5pbnZlc3RlZCB8fCAwO1xyXG4gICAgICAgIGNvbnN0IGNvcnJlY3RJbnZlc3RlZCA9IGludmVzdG1lbnRzQnlVc2VyW3VpZF0gfHwgMDtcclxuXHJcbiAgICAgICAgLy8gT25seSB1cGRhdGUgaWYgZGlmZmVyZW50IHRvIHNhdmUgd3JpdGVzXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGN1cnJlbnRJbnZlc3RlZCAtIGNvcnJlY3RJbnZlc3RlZCkgPiAwLjAxKSB7XHJcbiAgICAgICAgICBiYXRjaC51cGRhdGUodXNlckRvYy5yZWYsIHsgaW52ZXN0ZWQ6IGNvcnJlY3RJbnZlc3RlZCB9KTtcclxuICAgICAgICAgIHVwZGF0ZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICh1cGRhdGVDb3VudCA+IDApIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBgUmVjYWxjdWxhdGVkISBVcGRhdGVkICR7dXBkYXRlQ291bnR9IHVzZXJzLmAgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlJlY2FsYyBEZXRhaWxlZCBFcnJvcjpcIiwgZSk7XHJcbiAgICAgIGxldCBlcnJNc2cgPSBlLm1lc3NhZ2UgfHwgU3RyaW5nKGUpO1xyXG4gICAgICBpZiAoZXJyTXNnLmluY2x1ZGVzKFwiaW5kZXhcIikpIGVyck1zZyA9IFwiTWlzc2luZyBJbmRleCEgQ2hlY2sgQnJvd3NlciBDb25zb2xlIChGMTIpIGZvciB0aGUgY3JlYXRpb24gbGluay5cIjtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJNc2cgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBiYWNrZmlsbExhc3RCZXRQZXJjZW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ2FkbWluJykgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coXCJTdGFydGluZyBCYWNrZmlsbC4uLlwiKTtcclxuICAgICAgY29uc3QgdXNlcnNTbmFwID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAndXNlcnMnKSk7XHJcbiAgICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChkYik7XHJcbiAgICAgIGxldCB1cGRhdGVDb3VudCA9IDA7XHJcblxyXG4gICAgICAvLyBQcm9jZXNzIHVzZXJzIGluIGNodW5rcyB0byBhdm9pZCBibG93aW5nIHVwIG1lbW9yeS9iYXRjaCBsaW1pdHMgaWYgbWFueSB1c2Vyc1xyXG4gICAgICAvLyBCdXQgZm9yIDw1MDAgdXNlcnMsIGxvb3AgaXMgZmluZS4gQmF0Y2ggbGltaXQgaXMgNTAwIG9wcy5cclxuXHJcbiAgICAgIGZvciAoY29uc3QgdXNlckRvYyBvZiB1c2Vyc1NuYXAuZG9jcykge1xyXG4gICAgICAgIGNvbnN0IHVpZCA9IHVzZXJEb2MuaWQ7XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgYmV0cyBmb3IgdXNlciAod2UgY3JhdmUgdGhlIG1vc3QgcmVjZW50IHNldHRsZWQgb25lKVxyXG4gICAgICAgIGNvbnN0IGJldHNRID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ2JldHMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVpZCkpO1xyXG4gICAgICAgIGNvbnN0IGJldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhiZXRzUSk7XHJcblxyXG4gICAgICAgIGxldCBsYXN0U2V0dGxlZEJldCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIEZpbmQgbGF0ZXN0IHNldHRsZWQgYmV0IGluIG1lbW9yeVxyXG4gICAgICAgIGNvbnN0IHNldHRsZWRCZXRzID0gYmV0c1NuYXAuZG9jc1xyXG4gICAgICAgICAgLm1hcChkID0+ICh7IC4uLmQuZGF0YSgpLCBpZDogZC5pZCB9KSlcclxuICAgICAgICAgIC5maWx0ZXIoYiA9PiBiLnN0YXR1cyA9PT0gJ3dvbicgfHwgYi5zdGF0dXMgPT09ICdsb3N0JylcclxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5zZXR0bGVkQXQgfHwgYS5wbGFjZWRBdCB8fCAwKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShiLnNldHRsZWRBdCB8fCBiLnBsYWNlZEF0IHx8IDApO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZUIgLSBkYXRlQTsgLy8gRGVzY2VuZGluZ1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChzZXR0bGVkQmV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBsYXN0U2V0dGxlZEJldCA9IHNldHRsZWRCZXRzWzBdO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGlzV2lubmVyID0gbGFzdFNldHRsZWRCZXQuc3RhdHVzID09PSAnd29uJztcclxuICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50TmV0V29ydGggPSAodXNlckRhdGEuYmFsYW5jZSB8fCAwKSArICh1c2VyRGF0YS5pbnZlc3RlZCB8fCAwKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBwcm9maXQgPSBpc1dpbm5lclxyXG4gICAgICAgICAgICA/IChsYXN0U2V0dGxlZEJldC5wb3RlbnRpYWxQYXlvdXQgLSBsYXN0U2V0dGxlZEJldC5hbW91bnQpXHJcbiAgICAgICAgICAgIDogLWxhc3RTZXR0bGVkQmV0LmFtb3VudDtcclxuXHJcbiAgICAgICAgICAvLyBBcHByb3hpbWF0ZSBQcmUtQmV0IE5ldCBXb3J0aFxyXG4gICAgICAgICAgLy8gQ3VycmVudCBOZXQgV29ydGggRE9FUyBpbmNsdWRlIHRoaXMgYmV0J3MgcmVzdWx0IChzaW5jZSBpdCdzIHNldHRsZWQpLlxyXG4gICAgICAgICAgLy8gU28gd2Ugc3VidHJhY3QgdGhlIHByb2ZpdCB0byBnZXQgdGhlIHByZS1iZXQgdmFsdWUuXHJcbiAgICAgICAgICBjb25zdCBwcmVCZXROZXRXb3J0aCA9IGN1cnJlbnROZXRXb3J0aCAtIHByb2ZpdDtcclxuXHJcbiAgICAgICAgICAvLyBBdm9pZCBkaXZpc2lvbiBieSB6ZXJvXHJcbiAgICAgICAgICBjb25zdCBwZXJjZW50Q2hhbmdlID0gcHJlQmV0TmV0V29ydGggPiAwXHJcbiAgICAgICAgICAgID8gKHByb2ZpdCAvIHByZUJldE5ldFdvcnRoKSAqIDEwMFxyXG4gICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgYmF0Y2gudXBkYXRlKHVzZXJEb2MucmVmLCB7IGxhc3RCZXRQZXJjZW50OiBwZXJjZW50Q2hhbmdlIH0pO1xyXG4gICAgICAgICAgdXBkYXRlQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1cGRhdGVDb3VudCA+IDApIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBgVXBkYXRlZCAke3VwZGF0ZUNvdW50fSB1c2VycyB3aXRoIGxhc3QgYmV0IHN0YXRzLmAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVtb3RlU2VsZiA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghdXNlcikgcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlci5pZCksIHsgcm9sZTogJ3VzZXInIH0pO1xyXG4gICAgICAvLyBzZXRVc2VyKHsuLi51c2VyLCByb2xlOiAndXNlcid9KTsgLy8gT3B0aW1pc3RpYyB1cGRhdGVcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlbGV0ZUFjY291bnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VySWQgPSB1c2VyLmlkO1xyXG4gICAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xyXG4gICAgICBsZXQgb3BDb3VudCA9IDA7XHJcblxyXG4gICAgICAvLyAxLiBEZWxldGUgYWxsIHVzZXIncyBiZXRzXHJcbiAgICAgIGNvbnN0IGJldHNRID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ2JldHMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZCkpO1xyXG4gICAgICBjb25zdCBiZXRzU25hcCA9IGF3YWl0IGdldERvY3MoYmV0c1EpO1xyXG4gICAgICBiZXRzU25hcC5kb2NzLmZvckVhY2goZG9jID0+IHtcclxuICAgICAgICBiYXRjaC5kZWxldGUoZG9jLnJlZik7XHJcbiAgICAgICAgb3BDb3VudCsrO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIDIuIERlbGV0ZSBhbGwgdXNlcidzIGlkZWFzXHJcbiAgICAgIGNvbnN0IGlkZWFzUSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdpZGVhcycpLCB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSk7XHJcbiAgICAgIGNvbnN0IGlkZWFzU25hcCA9IGF3YWl0IGdldERvY3MoaWRlYXNRKTtcclxuICAgICAgaWRlYXNTbmFwLmRvY3MuZm9yRWFjaChkb2MgPT4ge1xyXG4gICAgICAgIGJhdGNoLmRlbGV0ZShkb2MucmVmKTtcclxuICAgICAgICBvcENvdW50Kys7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gMy4gRGVsZXRlIFVzZXIgUHJvZmlsZVxyXG4gICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQpO1xyXG4gICAgICBiYXRjaC5kZWxldGUodXNlclJlZik7XHJcbiAgICAgIG9wQ291bnQrKztcclxuXHJcbiAgICAgIGlmIChvcENvdW50ID4gMCkge1xyXG4gICAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyA0LiBEZWxldGUgQXV0aCBBY2NvdW50XHJcbiAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgYXdhaXQgYXV0aC5jdXJyZW50VXNlci5kZWxldGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRGVsZXRlIEVycm9yOlwiLCBlKTtcclxuICAgICAgaWYgKGUuY29kZSA9PT0gJ2F1dGgvcmVxdWlyZXMtcmVjZW50LWxvZ2luJykge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQbGVhc2UgbG9nIG91dCBhbmQgbG9nIGluIGFnYWluIHRvIGRlbGV0ZSB5b3VyIGFjY291bnQuXCIgfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAodGFyZ2V0VXNlcklkKSA9PiB7XHJcbiAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH07XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBIZWxwZXIgdG8gZGVsZXRlIGluIGJhdGNoZXNcclxuICAgICAgY29uc3QgY29tbWl0QmF0Y2hCdWZmZXIgPSBhc3luYyAoZG9jc1RvRGVsZXRlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgQ0hVTktfU0laRSA9IDQwMDsgLy8gU2FmZXR5IG1hcmdpbiBiZWxvdyA1MDBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3NUb0RlbGV0ZS5sZW5ndGg7IGkgKz0gQ0hVTktfU0laRSkge1xyXG4gICAgICAgICAgY29uc3QgY2h1bmsgPSBkb2NzVG9EZWxldGUuc2xpY2UoaSwgaSArIENIVU5LX1NJWkUpO1xyXG4gICAgICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcclxuICAgICAgICAgIGNodW5rLmZvckVhY2gocmVmID0+IGJhdGNoLmRlbGV0ZShyZWYpKTtcclxuICAgICAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGFsbERvY3NUb0RlbGV0ZSA9IFtdO1xyXG5cclxuICAgICAgLy8gMS4gQmV0c1xyXG4gICAgICBjb25zdCBiZXRzU25hcCA9IGF3YWl0IGdldERvY3MocXVlcnkoY29sbGVjdGlvbihkYiwgJ2JldHMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHRhcmdldFVzZXJJZCkpKTtcclxuICAgICAgYmV0c1NuYXAuZG9jcy5mb3JFYWNoKGQgPT4gYWxsRG9jc1RvRGVsZXRlLnB1c2goZC5yZWYpKTtcclxuXHJcbiAgICAgIC8vIDIuIElkZWFzXHJcbiAgICAgIGNvbnN0IGlkZWFzU25hcCA9IGF3YWl0IGdldERvY3MocXVlcnkoY29sbGVjdGlvbihkYiwgJ2lkZWFzJyksIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB0YXJnZXRVc2VySWQpKSk7XHJcbiAgICAgIGlkZWFzU25hcC5kb2NzLmZvckVhY2goZCA9PiBhbGxEb2NzVG9EZWxldGUucHVzaChkLnJlZikpO1xyXG5cclxuICAgICAgLy8gMy4gQ29tbWVudHMgKE5ldylcclxuICAgICAgY29uc3QgY29tbWVudHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhxdWVyeShjb2xsZWN0aW9uKGRiLCAnY29tbWVudHMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHRhcmdldFVzZXJJZCkpKTtcclxuICAgICAgY29tbWVudHNTbmFwLmRvY3MuZm9yRWFjaChkID0+IGFsbERvY3NUb0RlbGV0ZS5wdXNoKGQucmVmKSk7XHJcblxyXG4gICAgICAvLyA0LiBOb3RpZmljYXRpb25zIChOZXcpXHJcbiAgICAgIGNvbnN0IG5vdGlmU25hcCA9IGF3YWl0IGdldERvY3MocXVlcnkoY29sbGVjdGlvbihkYiwgJ25vdGlmaWNhdGlvbnMnKSwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHRhcmdldFVzZXJJZCkpKTtcclxuICAgICAgbm90aWZTbmFwLmRvY3MuZm9yRWFjaChkID0+IGFsbERvY3NUb0RlbGV0ZS5wdXNoKGQucmVmKSk7XHJcblxyXG4gICAgICAvLyA1LiBVc2VyIFByb2ZpbGVcclxuICAgICAgYWxsRG9jc1RvRGVsZXRlLnB1c2goZG9jKGRiLCAndXNlcnMnLCB0YXJnZXRVc2VySWQpKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBEZWxldGluZyB1c2VyICR7dGFyZ2V0VXNlcklkfTogJHthbGxEb2NzVG9EZWxldGUubGVuZ3RofSBkb2N1bWVudHMgdG90YWwuYCk7XHJcblxyXG4gICAgICBhd2FpdCBjb21taXRCYXRjaEJ1ZmZlcihhbGxEb2NzVG9EZWxldGUpO1xyXG5cclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRGVsZXRlIFVzZXIgRXJyb3I6XCIsIGUpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN5bmNFdmVudFN0YXRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ2FkbWluJykgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gMS4gRmV0Y2ggYWxsIGJldHNcclxuICAgICAgY29uc3QgYmV0c1NuYXAgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdiZXRzJykpO1xyXG4gICAgICBjb25zdCBhbGxCZXRzID0gYmV0c1NuYXAuZG9jcy5tYXAoZCA9PiBkLmRhdGEoKSk7XHJcblxyXG4gICAgICAvLyAyLiBBZ2dyZWdhdGUgU3RhdHNcclxuICAgICAgY29uc3Qgc3RhdHNNYXAgPSB7fTsgLy8gZXZlbnRJZCAtPiB7IGNvdW50czoge30sIGFtb3VudHM6IHt9LCB0b3RhbEJldHM6IDAsIHRvdGFsUG9vbDogMCB9XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGJldCBvZiBhbGxCZXRzKSB7XHJcbiAgICAgICAgaWYgKCFzdGF0c01hcFtiZXQuZXZlbnRJZF0pIHtcclxuICAgICAgICAgIHN0YXRzTWFwW2JldC5ldmVudElkXSA9IHsgY291bnRzOiB7fSwgYW1vdW50czoge30sIHRvdGFsQmV0czogMCwgdG90YWxQb29sOiAwIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHMgPSBzdGF0c01hcFtiZXQuZXZlbnRJZF07XHJcbiAgICAgICAgcy50b3RhbEJldHMgKz0gMTtcclxuICAgICAgICBzLnRvdGFsUG9vbCArPSAoYmV0LmFtb3VudCB8fCAwKTtcclxuICAgICAgICBzLmNvdW50c1tiZXQub3V0Y29tZUlkXSA9IChzLmNvdW50c1tiZXQub3V0Y29tZUlkXSB8fCAwKSArIDE7XHJcbiAgICAgICAgcy5hbW91bnRzW2JldC5vdXRjb21lSWRdID0gKHMuYW1vdW50c1tiZXQub3V0Y29tZUlkXSB8fCAwKSArIChiZXQuYW1vdW50IHx8IDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAzLiBVcGRhdGUgRXZlbnRzXHJcbiAgICAgIGNvbnN0IGV2ZW50c1NuYXAgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdldmVudHMnKSk7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZVByb21pc2VzID0gZXZlbnRzU25hcC5kb2NzLm1hcChhc3luYyAoZG9jU25hcCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXRzID0gc3RhdHNNYXBbZG9jU25hcC5pZF0gfHwgeyBjb3VudHM6IHt9LCBhbW91bnRzOiB7fSwgdG90YWxCZXRzOiAwLCB0b3RhbFBvb2w6IDAgfTtcclxuICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnZXZlbnRzJywgZG9jU25hcC5pZCksIHsgc3RhdHMgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodXBkYXRlUHJvbWlzZXMpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkQ29tbWVudCA9IGFzeW5jIChldmVudElkLCB0ZXh0KSA9PiB7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0xvZ2luIHRvIGNvbW1lbnQnIH07XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICBldmVudElkLFxyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICB0ZXh0LFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnY29tbWVudHMnKSwgY29tbWVudERhdGEpO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIEV2ZW50IHdpdGggbGFzdENvbW1lbnQgZm9yIHByZXZpZXdcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpLCB7XHJcbiAgICAgICAgbGFzdENvbW1lbnQ6IHtcclxuICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgdGV4dDogdGV4dC5sZW5ndGggPiA1MCA/IHRleHQuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nIDogdGV4dCxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogY29tbWVudERhdGEuY3JlYXRlZEF0XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVDb21tZW50ID0gYXN5bmMgKGNvbW1lbnRJZCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ2FkbWluJykgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gMS4gR2V0IGNvbW1lbnQgZGV0YWlscyBiZWZvcmUgZGVsZXRpbmcgKHRvIGZpbmQgcGFyZW50IGV2ZW50KVxyXG4gICAgICBjb25zdCBjb21tZW50UmVmID0gZG9jKGRiLCAnY29tbWVudHMnLCBjb21tZW50SWQpO1xyXG4gICAgICBjb25zdCBjb21tZW50U25hcCA9IGF3YWl0IGdldERvYyhjb21tZW50UmVmKTtcclxuXHJcbiAgICAgIGlmICghY29tbWVudFNuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdDb21tZW50IGFscmVhZHkgZGVsZXRlZCcgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdmFsID0gY29tbWVudFNuYXAuZGF0YSgpO1xyXG4gICAgICBjb25zdCBldmVudElkID0gdmFsLmV2ZW50SWQ7XHJcbiAgICAgIGNvbnN0IGNvbW1lbnRDcmVhdGVkQXQgPSB2YWwuY3JlYXRlZEF0O1xyXG5cclxuICAgICAgLy8gMi4gRGVsZXRlIHRoZSBjb21tZW50XHJcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhjb21tZW50UmVmKTtcclxuXHJcbiAgICAgIC8vIDMuIENoZWNrIGlmIHRoaXMgd2FzIHRoZSBcImxhc3RDb21tZW50XCIgb24gdGhlIGV2ZW50IGNhcmRcclxuICAgICAgaWYgKGV2ZW50SWQpIHtcclxuICAgICAgICBjb25zdCBldmVudFJlZiA9IGRvYyhkYiwgJ2V2ZW50cycsIGV2ZW50SWQpO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50U25hcCA9IGF3YWl0IGdldERvYyhldmVudFJlZik7XHJcblxyXG4gICAgICAgIGlmIChldmVudFNuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IGV2ZW50U25hcC5kYXRhKCk7XHJcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZGlzcGxheWVkIGxhc3RDb21tZW50IG1hdGNoZXMgdGhlIG9uZSB3ZSBqdXN0IGRlbGV0ZWRcclxuICAgICAgICAgIGlmIChldmVudERhdGEubGFzdENvbW1lbnQgJiYgZXZlbnREYXRhLmxhc3RDb21tZW50LmNyZWF0ZWRBdCA9PT0gY29tbWVudENyZWF0ZWRBdCkge1xyXG4gICAgICAgICAgICAvLyBJdCB3YXMgdGhlIG9uZSBkaXNwbGF5ZWQhIFdlIG5lZWQgdG8gZmluZCB0aGUgbmV3IGxhdGVzdCBjb21tZW50LlxyXG4gICAgICAgICAgICAvLyBGZXRjaCBhbGwgcmVtYWluaW5nIGNvbW1lbnRzIGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnY29tbWVudHMnKSwgd2hlcmUoJ2V2ZW50SWQnLCAnPT0nLCBldmVudElkKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzbmFwLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbmV3ZXN0IG9uZVxyXG4gICAgICAgICAgICAgIGNvbnN0IGFsbCA9IHNuYXAuZG9jcy5tYXAoZCA9PiBkLmRhdGEoKSk7XHJcbiAgICAgICAgICAgICAgYWxsLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuY3JlYXRlZEF0KSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KSk7XHJcbiAgICAgICAgICAgICAgY29uc3QgbmV3ZXN0ID0gYWxsWzBdO1xyXG5cclxuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZXZlbnRSZWYsIHtcclxuICAgICAgICAgICAgICAgIGxhc3RDb21tZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuZXdlc3QudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHRleHQ6IG5ld2VzdC50ZXh0Lmxlbmd0aCA+IDUwID8gbmV3ZXN0LnRleHQuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nIDogbmV3ZXN0LnRleHQsXHJcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3ZXN0LmNyZWF0ZWRBdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIE5vIGNvbW1lbnRzIGxlZnRcclxuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZXZlbnRSZWYsIHtcclxuICAgICAgICAgICAgICAgIGxhc3RDb21tZW50OiBkZWxldGVGaWVsZCgpXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBtYXJrTm90aWZpY2F0aW9uUmVhZCA9IGFzeW5jIChub3RpZklkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnbm90aWZpY2F0aW9ucycsIG5vdGlmSWQpLCB7IHJlYWQ6IHRydWUgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSk7IH1cclxuICB9O1xyXG5cclxuXHJcblxyXG4gIGNvbnN0IGdldFVzZXJTdGF0cyA9IGFzeW5jICh0YXJnZXRVc2VySWQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHRhcmdldFVzZXJJZCk7XHJcbiAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpIDoge307XHJcblxyXG4gICAgICBjb25zdCBiZXRzUSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdiZXRzJyksIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB0YXJnZXRVc2VySWQpKTtcclxuICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MoYmV0c1EpO1xyXG4gICAgICBsZXQgd2lucyA9IDA7XHJcbiAgICAgIGxldCBsb3NzZXMgPSAwO1xyXG4gICAgICBsZXQgcHJvZml0ID0gMDtcclxuICAgICAgbGV0IHNldHRsZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICBzbmFwLmRvY3MuZm9yRWFjaChkID0+IHtcclxuICAgICAgICBjb25zdCBiID0gZC5kYXRhKCk7XHJcbiAgICAgICAgaWYgKGIuc3RhdHVzID09PSAnd29uJykge1xyXG4gICAgICAgICAgd2lucysrO1xyXG4gICAgICAgICAgc2V0dGxlZENvdW50Kys7XHJcbiAgICAgICAgICBwcm9maXQgKz0gKChiLnBvdGVudGlhbFBheW91dCB8fCAoYi5hbW91bnQgKiBiLm9kZHMpKSAtIGIuYW1vdW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGIuc3RhdHVzID09PSAnbG9zdCcpIHtcclxuICAgICAgICAgIGxvc3NlcysrO1xyXG4gICAgICAgICAgc2V0dGxlZENvdW50Kys7XHJcbiAgICAgICAgICBwcm9maXQgLT0gYi5hbW91bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsID0gc25hcC5zaXplO1xyXG4gICAgICBjb25zdCB3aW5SYXRlID0gc2V0dGxlZENvdW50ID4gMCA/ICgod2lucyAvIHNldHRsZWRDb3VudCkgKiAxMDApLnRvRml4ZWQoMSkgOiAwO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHN0YXRzOiB7IHdpbnMsIGxvc3NlcywgdG90YWwsIHdpblJhdGUsIHByb2ZpdCB9LFxyXG4gICAgICAgIHByb2ZpbGU6IHsgYmlvOiB1c2VyRGF0YS5iaW8gfHwgJycsIHByb2ZpbGVQaWM6IHVzZXJEYXRhLnByb2ZpbGVQaWMsIHVzZXJuYW1lOiB1c2VyRGF0YS51c2VybmFtZSB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoZSk7IHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07IH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRXZWVrbHlMZWFkZXJib2FyZCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGNvbnN0IGRheU9mV2VlayA9IG5vdy5nZXREYXkoKTsgLy8gMCAoU3VuKSAtIDYgKFNhdClcclxuICAgICAgY29uc3Qgc3RhcnRPZldlZWsgPSBuZXcgRGF0ZShub3cpO1xyXG4gICAgICAvLyBSZXNldCB0byBtb3N0IHJlY2VudCBTdW5kYXkgKG9yIHRvZGF5IGlmIGl0IGlzIFN1bmRheSlcclxuICAgICAgc3RhcnRPZldlZWsuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrKTtcclxuICAgICAgc3RhcnRPZldlZWsuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgIGNvbnN0IGlzb1N0ciA9IHN0YXJ0T2ZXZWVrLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIHdlZWtseSBzdGF0cyBzaW5jZTpcIiwgaXNvU3RyKTtcclxuXHJcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnYmV0cycpLCB3aGVyZSgnc3RhdHVzJywgJ2luJywgWyd3b24nLCAnbG9zdCddKSwgd2hlcmUoJ3NldHRsZWRBdCcsICc+PScsIGlzb1N0cikpO1xyXG4gICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0ge307XHJcbiAgICAgIHNuYXAuZG9jcy5mb3JFYWNoKGRvYyA9PiB7XHJcbiAgICAgICAgY29uc3QgYiA9IGRvYy5kYXRhKCk7XHJcbiAgICAgICAgaWYgKCFzdGF0c1tiLnVzZXJJZF0pIHN0YXRzW2IudXNlcklkXSA9IDA7XHJcbiAgICAgICAgaWYgKGIuc3RhdHVzID09PSAnd29uJykge1xyXG4gICAgICAgICAgLy8gUHJvZml0ID0gUGF5b3V0IC0gV2FnZXJcclxuICAgICAgICAgIGNvbnN0IHBheW91dCA9IGIucG90ZW50aWFsUGF5b3V0IHx8IChiLmFtb3VudCAqIGIub2Rkcyk7XHJcbiAgICAgICAgICBzdGF0c1tiLnVzZXJJZF0gKz0gKHBheW91dCAtIGIuYW1vdW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTG9zcyA9IC1XYWdlclxyXG4gICAgICAgICAgc3RhdHNbYi51c2VySWRdIC09IGIuYW1vdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBsZWFkZXJib2FyZCA9IE9iamVjdC5lbnRyaWVzKHN0YXRzKS5tYXAoKFt1c2VySWQsIHByb2ZpdF0pID0+ICh7IHVzZXJJZCwgcHJvZml0IH0pKTtcclxuICAgICAgbGVhZGVyYm9hcmQuc29ydCgoYSwgYikgPT4gYi5wcm9maXQgLSBhLnByb2ZpdCk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGxlYWRlcmJvYXJkIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWVrbHkgTGVhZGVyYm9hcmQgRXJyb3I6XCIsIGUpO1xyXG4gICAgICBsZXQgbXNnID0gZS5tZXNzYWdlO1xyXG4gICAgICBpZiAobXNnLmluY2x1ZGVzKFwiaW5kZXhcIikpIG1zZyA9IFwiTWlzc2luZyBJbmRleCEgQ2hlY2sgY29uc29sZSAoRjEyKSBmb3IgdGhlIGNyZWF0aW9uIGxpbmsuXCI7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogbXNnIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXBkYXRlU3lzdGVtQW5ub3VuY2VtZW50ID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICAgIGlmICghdXNlciB8fCB1c2VyLnJvbGUgIT09ICdhZG1pbicpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ3N5c3RlbScsICdhbm5vdW5jZW1lbnQnKTtcclxuICAgICAgLy8gTWVyZ2UgdHJ1ZSB0byBhbGxvdyBwYXJ0aWFsIHVwZGF0ZXMgaWYgbmVlZGVkLCB0aG91Z2ggdXN1YWxseSB3ZSByZXBsYWNlIGNvbnRlbnRcclxuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwgZGF0YSwgeyBtZXJnZTogdHJ1ZSB9KTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICBhbGVydChcIkVycm9yIHBvc3RpbmcgYW5ub3VuY2VtZW50OiBcIiArIGUubWVzc2FnZSk7IC8vIERlYnVnXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBcHBDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XHJcbiAgICAgIHVzZXIsIHNpZ251cCwgc2lnbmluLCBsb2dvdXQsIHVwZGF0ZVVzZXIsIHN1Ym1pdElkZWEsIGRlbGV0ZUlkZWEsIGRlbGV0ZUFjY291bnQsIGRlbGV0ZVVzZXIsIGRlbW90ZVNlbGYsIHN5bmNFdmVudFN0YXRzLFxyXG4gICAgICBldmVudHMsIGNyZWF0ZUV2ZW50LCByZXNvbHZlRXZlbnQsIHVwZGF0ZUV2ZW50LCB1cGRhdGVFdmVudE9yZGVyLCBmaXhTdHVja0JldHMsIGRlbGV0ZUJldCwgZGVsZXRlRXZlbnQsIHRvZ2dsZUZlYXR1cmVkLCByZWNhbGN1bGF0ZUxlYWRlcmJvYXJkLCBiYWNrZmlsbExhc3RCZXRQZXJjZW50LCBhZGRDb21tZW50LCBkZWxldGVDb21tZW50LCBtYXJrTm90aWZpY2F0aW9uUmVhZCwgZ2V0VXNlclN0YXRzLCBnZXRXZWVrbHlMZWFkZXJib2FyZCwgc2V0TWFpbkJldCwgdXBkYXRlVXNlckdyb3VwcywgdXBkYXRlU3lzdGVtQW5ub3VuY2VtZW50LCBzeXN0ZW1Bbm5vdW5jZW1lbnQsXHJcbiAgICAgIGJldHMsIHBsYWNlQmV0LCBpc0xvYWRlZCwgaXNGaXJlYmFzZTogdHJ1ZSwgdXNlcnMsIGlkZWFzLCBkYlxyXG4gICAgfX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQXBwQ29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBwKCkge1xyXG4gIHJldHVybiB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJjb2xsZWN0aW9uIiwiYWRkRG9jIiwib25TbmFwc2hvdCIsInF1ZXJ5Iiwib3JkZXJCeSIsImRvYyIsInNldERvYyIsInVwZGF0ZURvYyIsImdldERvYyIsIndoZXJlIiwiaW5jcmVtZW50IiwiZGVsZXRlRG9jIiwiZ2V0RG9jcyIsImxpbWl0Iiwid3JpdGVCYXRjaCIsImRlbGV0ZUZpZWxkIiwiY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJzaWduT3V0Iiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidXBkYXRlRW1haWwiLCJ1cGRhdGVQYXNzd29yZCIsInZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsIiwiZGIiLCJhdXRoIiwiQXBwQ29udGV4dCIsIkFwcFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsImV2ZW50cyIsInNldEV2ZW50cyIsImJldHMiLCJzZXRCZXRzIiwiaWRlYXMiLCJzZXRJZGVhcyIsImlzTG9hZGVkIiwic2V0SXNMb2FkZWQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJwcmV2IiwiY29uc29sZSIsIndhcm4iLCJjbGVhclRpbWVvdXQiLCJ1bnN1YnNjcmliZVByb2ZpbGUiLCJ1bnN1YnNjcmliZUF1dGgiLCJmaXJlYmFzZVVzZXIiLCJpZCIsInVpZCIsImVtYWlsIiwidXNlcm5hbWUiLCJkaXNwbGF5TmFtZSIsInNwbGl0Iiwicm9sZSIsInVzZXJSZWYiLCJkb2NTbmFwIiwiZXhpc3RzIiwiZGF0YSIsImxvZyIsIm5ld1VzZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiYmFsYW5jZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRoZW4iLCJjYXRjaCIsImVyciIsImVycm9yIiwiYWxlcnQiLCJ1c2VycyIsInNldFVzZXJzIiwic3lzdGVtQW5ub3VuY2VtZW50Iiwic2V0U3lzdGVtQW5ub3VuY2VtZW50IiwiYW5ub3VuY2VtZW50UmVmIiwidW5zdWJBbm5vdW5jZW1lbnQiLCJldmVudHNRdWVyeSIsInVuc3ViRXZlbnRzIiwic25hcHNob3QiLCJldmVudHNMaXN0IiwiZG9jcyIsIm1hcCIsInNvcnQiLCJhIiwiYiIsIm9yZGVyQSIsIm9yZGVyIiwidW5kZWZpbmVkIiwib3JkZXJCIiwic3RhdHVzIiwic3RhcnRBdCIsImlkZWFzUXVlcnkiLCJ1bnN1YklkZWFzIiwibGlzdCIsInN1Ym1pdHRlZEF0IiwidXNlcnNRdWVyeSIsInVuc3ViVXNlcnMiLCJiZXRzUXVlcnkiLCJ1bnN1YkJldHMiLCJteUJldHMiLCJwbGFjZWRBdCIsInNpZ251cCIsInBhc3N3b3JkIiwicmVzcCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic2lnbmluIiwiZW1haWxPclVzZXJuYW1lIiwidHJpbSIsImUiLCJ1c2VybmFtZUlucHV0IiwiY29sIiwiY2FuZGlkYXRlRW1haWxzIiwiU2V0IiwiYWRkQ2FuZGlkYXRlcyIsInBhcmFtIiwidmFsIiwicSIsInNuYXAiLCJmb3JFYWNoIiwiYWRkIiwiY2FwaXRhbGl6ZWQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwic2l6ZSIsInRyaWVkIiwiY2FuZGlkYXRlRW1haWwiLCJlMiIsImVtYWlsTm9XaGl0ZXNwYWNlIiwicmVwbGFjZSIsImUzIiwicHVzaCIsImNvZGUiLCJmaXJzdEVtYWlsIiwic3VnZ2VzdGVkRW1haWwiLCJsb2dvdXQiLCJwbGFjZUJldCIsImV2ZW50SWQiLCJvdXRjb21lSWQiLCJhbW91bnQiLCJldmVudCIsImZpbmQiLCJxRXhpc3RpbmciLCJzbmFwRXhpc3RpbmciLCJvdGhlclNpZGVCZXQiLCJkIiwib3V0Y29tZSIsIm91dGNvbWVzIiwibyIsImludmVzdGVkIiwidXNlcklkIiwib3V0Y29tZUxhYmVsIiwibGFiZWwiLCJldmVudFRpdGxlIiwidGl0bGUiLCJwYXJzZUZsb2F0Iiwib2RkcyIsInBvdGVudGlhbFBheW91dCIsImV2ZW50UmVmIiwic3RhdHNFcnIiLCJjcmVhdGVFdmVudCIsImV2ZW50RGF0YSIsInVwZGF0ZUV2ZW50T3JkZXIiLCJuZXdPcmRlciIsImRlbGV0ZUV2ZW50IiwidG9nZ2xlRmVhdHVyZWQiLCJjdXJyZW50U3RhdHVzIiwiZmVhdHVyZWQiLCJyZXNvbHZlRXZlbnQiLCJ3aW5uZXJPdXRjb21lSWQiLCJiYXRjaCIsInVwZGF0ZSIsImJldHNRIiwiYmV0c1NuYXAiLCJiZXREb2MiLCJiZXQiLCJpc1dpbm5lciIsInBlcmNlbnRDaGFuZ2UiLCJ1c2VyU25hcCIsInVzZXJEYXRhIiwiY3VycmVudE5ldFdvcnRoIiwicHJvZml0IiwicmVmIiwic2V0dGxlZEF0IiwibGFzdEJldFBlcmNlbnQiLCJub3RpZlJlZiIsInNldCIsInR5cGUiLCJ0b0ZpeGVkIiwicmVhZCIsImNvbW1pdCIsImZpeFN0dWNrQmV0cyIsImV2ZW50c1EiLCJldmVudHNTbmFwIiwidG90YWxGaXhlZCIsImV2ZW50RG9jIiwiZGVsZXRlQmV0IiwiYmV0SWQiLCJ1cGRhdGVFdmVudCIsInNldE1haW5CZXQiLCJtYWluT3V0Y29tZUlkIiwiZXZ0IiwibmV3T3V0Y29tZXMiLCJzdWJtaXRJZGVhIiwiaWRlYVRleHQiLCJxRHVwIiwic25hcER1cCIsImVtcHR5IiwidG9kYXkiLCJ0b0RhdGVTdHJpbmciLCJjdXJyZW50Q291bnQiLCJzdWJtaXNzaW9uRGF0YSIsImRhdGUiLCJjb3VudCIsInRleHQiLCJuZXdDb3VudCIsInVwZGF0ZVVzZXJHcm91cHMiLCJ0YXJnZXRVc2VySWQiLCJncm91cHMiLCJkZWxldGVJZGVhIiwiaWRlYUlkIiwidXBkYXRlVXNlciIsInVwZGF0ZXMiLCJmaXJlc3RvcmVVcGRhdGVzIiwiYXV0aFVwZGF0ZWQiLCJhdXRoRXJyb3JNc2ciLCJjdXJyZW50VXNlciIsImN1cnJlbnRBdXRoRW1haWwiLCJlbWFpbEVyciIsImxlbmd0aCIsInJlbG9hZCIsImF1dGhFcnIiLCJzdWNjZXNzTXNnIiwicmVjYWxjdWxhdGVMZWFkZXJib2FyZCIsImludmVzdG1lbnRzQnlVc2VyIiwidXNlcnNTbmFwIiwidXBkYXRlQ291bnQiLCJ1c2VyRG9jIiwiY3VycmVudEludmVzdGVkIiwiY29ycmVjdEludmVzdGVkIiwiTWF0aCIsImFicyIsImVyck1zZyIsIlN0cmluZyIsImJhY2tmaWxsTGFzdEJldFBlcmNlbnQiLCJsYXN0U2V0dGxlZEJldCIsInNldHRsZWRCZXRzIiwiZmlsdGVyIiwiZGF0ZUEiLCJkYXRlQiIsInByZUJldE5ldFdvcnRoIiwiZGVtb3RlU2VsZiIsImRlbGV0ZUFjY291bnQiLCJvcENvdW50IiwiZGVsZXRlIiwiaWRlYXNRIiwiaWRlYXNTbmFwIiwiZGVsZXRlVXNlciIsImNvbW1pdEJhdGNoQnVmZmVyIiwiZG9jc1RvRGVsZXRlIiwiQ0hVTktfU0laRSIsImkiLCJjaHVuayIsImFsbERvY3NUb0RlbGV0ZSIsImNvbW1lbnRzU25hcCIsIm5vdGlmU25hcCIsInN5bmNFdmVudFN0YXRzIiwiYWxsQmV0cyIsInN0YXRzTWFwIiwiY291bnRzIiwiYW1vdW50cyIsInRvdGFsQmV0cyIsInRvdGFsUG9vbCIsInMiLCJ1cGRhdGVQcm9taXNlcyIsInN0YXRzIiwiUHJvbWlzZSIsImFsbCIsImFkZENvbW1lbnQiLCJjb21tZW50RGF0YSIsImxhc3RDb21tZW50Iiwic3Vic3RyaW5nIiwiZGVsZXRlQ29tbWVudCIsImNvbW1lbnRJZCIsImNvbW1lbnRSZWYiLCJjb21tZW50U25hcCIsImNvbW1lbnRDcmVhdGVkQXQiLCJldmVudFNuYXAiLCJuZXdlc3QiLCJtYXJrTm90aWZpY2F0aW9uUmVhZCIsIm5vdGlmSWQiLCJnZXRVc2VyU3RhdHMiLCJ3aW5zIiwibG9zc2VzIiwic2V0dGxlZENvdW50IiwidG90YWwiLCJ3aW5SYXRlIiwicHJvZmlsZSIsImJpbyIsInByb2ZpbGVQaWMiLCJnZXRXZWVrbHlMZWFkZXJib2FyZCIsIm5vdyIsImRheU9mV2VlayIsImdldERheSIsInN0YXJ0T2ZXZWVrIiwic2V0RGF0ZSIsImdldERhdGUiLCJzZXRIb3VycyIsImlzb1N0ciIsInBheW91dCIsImxlYWRlcmJvYXJkIiwiT2JqZWN0IiwiZW50cmllcyIsIm1zZyIsInVwZGF0ZVN5c3RlbUFubm91bmNlbWVudCIsImRvY1JlZiIsIm1lcmdlIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImlzRmlyZWJhc2UiLCJ1c2VBcHAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/store.js\n"));

/***/ })

});